spring.application.name=authservice
server.port=${PORT:8080}

# Eureka
eureka.client.service-url.defaultZone=${EUREKA_SERVER_URL:http://localhost:8761/eureka/}
eureka.instance.hostname=${EUREKA_INSTANCE_HOST:localhost}
eureka.instance.prefer-ip-address=true
eureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}
eureka.instance.lease-renewal-interval-in-seconds=30
eureka.instance.lease-expiration-duration-in-seconds=90

# PostgreSQL from ENV (Render/Neon)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:false}
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.open-in-view=false

# Actuator
management.endpoints.web.exposure.include=health,info

# JWT (dev defaults – override via env in prod)
app.jwt.secret=${APP_JWT_SECRET:dev-change-me-please-super-long-secret-32bytes-min}
app.jwt.issuer=${APP_JWT_ISSUER:spc-auth}
app.jwt.expiryMinutes=${APP_JWT_EXP_MINUTES:60}
