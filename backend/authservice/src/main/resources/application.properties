spring.application.name=authservice
server.port=${AUTH_PORT:8083}

# Eureka (hyphen in service-url!)
eureka.client.service-url.defaultZone=${EUREKA_SERVER_URL:http://localhost:8761/eureka/}
eureka.instance.hostname=${EUREKA_INSTANCE_HOST:localhost}
eureka.instance.prefer-ip-address=true
eureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}
eureka.instance.lease-renewal-interval-in-seconds=30
eureka.instance.lease-expiration-duration-in-seconds=90

# MySQL (override with ENV in non-dev environments)
spring.datasource.url=${AUTH_DB_URL:jdbc:mysql://127.0.0.1:3306/auth_db?createDatabaseIfNotExist=true&allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC}
spring.datasource.username=${AUTH_DB_USERNAME:root}
spring.datasource.password=${AUTH_DB_PASSWORD:1234}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:false}
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.open-in-view=false

# Actuator
management.endpoints.web.exposure.include=health,info

# JWT (read from ENV; default is dev-only)
app.jwt.secret=${APP_JWT_SECRET:dev-change-me-please-super-long-secret-32bytes-min}
app.jwt.issuer=${APP_JWT_ISSUER:spc-auth}
app.jwt.expiryMinutes=${APP_JWT_EXP_MINUTES:60}

# Cookie (if/when you issue cookies)
app.cookie.name=${APP_COOKIE_NAME:SPC_JWT}
app.cookie.domain=${APP_COOKIE_DOMAIN:localhost}
app.cookie.httpOnly=${APP_COOKIE_HTTPONLY:true}
app.cookie.secure=${APP_COOKIE_SECURE:false}
app.cookie.sameSite=${APP_COOKIE_SAMESITE:Lax}

# CORS
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:http://localhost:3000}

# Cloudinary (use env; defaults are blank)
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME:}
cloudinary.api-key=${CLOUDINARY_API_KEY:}
cloudinary.api-secret=${CLOUDINARY_API_SECRET:}
storage.cloudinary.folder-prefix=${CLOUDINARY_FOLDER_PREFIX:employees/}

# ====== MAIL CONFIG (for OTP emails) ======
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${MAIL_SMTP_STARTTLS:true}
spring.mail.properties.mail.transport.protocol=${MAIL_TRANSPORT_PROTOCOL:smtp}
spring.mail.default-encoding=${MAIL_DEFAULT_ENCODING:UTF-8}
