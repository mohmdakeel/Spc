(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{18154:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]])},21873:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},29502:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]])},46398:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},86241:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var r=a(95155),s=a(43968),c=a(12115),i=a(15239),l=a(52619),n=a.n(l),o=a(20063),h=a(65993),d=a(18154),x=a(29502),u=a(21873),p=a(91169),y=a(46398),k=a(86651),f=a(50069),g=a(15870),m=a(84926),A=a(68209);let j=[{to:"/Akeel/Incharge",label:"Dashboard",icon:(0,r.jsx)(h.A,{size:18})},{to:"/Akeel/Incharge/Approved",label:"Requests to Assign",icon:(0,r.jsx)(d.A,{size:18})},{to:"/Akeel/Incharge/Scheduled",label:"Scheduled Trips",icon:(0,r.jsx)(x.A,{size:18})},{to:"/Akeel/Incharge/Active",label:"Active Vehicles",icon:(0,r.jsx)(u.A,{size:18})},{to:"/Akeel/Incharge/Driver",label:"Manage Drivers",icon:(0,r.jsx)(p.A,{size:18})},{to:"/Akeel/Incharge/Vehicle",label:"Manage Vehicles",icon:(0,r.jsx)(y.A,{size:18})},{to:"/Akeel/Incharge/Track",label:"Track by Request ID",icon:(0,r.jsx)(k.A,{size:18})}];function b(){let e=(0,o.useRouter)(),t=(0,o.usePathname)(),a=c.useMemo(()=>j.map(e=>e.to).concat(["/Akeel/Incharge/Profile","/Akeel/Incharge/Settings"]),[]),s=e=>t===e||t.startsWith("".concat(e,"/"));c.useEffect(()=>{a.forEach((t,a)=>{((e,t)=>{if("requestIdleCallback"in window)try{window.requestIdleCallback(e,{timeout:t});return}catch(e){}setTimeout(e,t)})(()=>{try{var a;null==(a=e.prefetch)||a.call(e,t)}catch(e){}},120+60*a)})},[e,a]);let l=async()=>{e.push("/login"),e.refresh();try{await (0,A.ri)()}catch(e){console.warn("Logout failed, forcing redirect anyway",e)}};return(0,r.jsxs)("aside",{className:"hod-sidebar w-64 min-w-64 shrink-0 h-screen sticky top-0 bg-orange-100 p-4 border-r border-orange-200 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-2xl border border-orange-200 bg-white/80 flex items-center justify-center shadow-sm",children:(0,r.jsx)(i.default,{src:"/spclogopic.png",width:36,height:36,alt:"SPC",className:"object-contain",priority:!0})}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("h1",{className:"font-bold text-sm text-orange-900 leading-tight truncate",children:"State Printing Corporation"}),(0,r.jsx)("p",{className:"text-xs text-orange-700/70 truncate",children:"Vehicle In-Charge"})]})]}),(0,r.jsx)("nav",{className:"space-y-1 flex-1",children:j.map(e=>{let{to:t,label:a,icon:c}=e;return(0,r.jsxs)(n(),{href:t,prefetch:!0,className:"hod-sidebar__item ".concat(s(t)?"is-active":""),"aria-current":s(t)?"page":void 0,children:[c,(0,r.jsx)("span",{className:"truncate",children:a})]},a)})}),(0,r.jsxs)("div",{className:"pt-4 mt-6 border-t border-orange-200 space-y-2",children:[(0,r.jsxs)(n(),{href:"/Akeel/Incharge/Profile",prefetch:!0,className:"hod-sidebar__link",children:[(0,r.jsx)(f.A,{size:18}),(0,r.jsx)("span",{children:"Profile"})]}),(0,r.jsxs)(n(),{href:"/Akeel/Incharge/Settings",prefetch:!0,className:"hod-sidebar__link",children:[(0,r.jsx)(g.A,{size:18}),(0,r.jsx)("span",{children:"Settings"})]}),(0,r.jsxs)("button",{onClick:l,className:"hod-sidebar__danger",children:[(0,r.jsx)(m.A,{size:18}),(0,r.jsx)("span",{children:"Logout"})]})]})]})}var v=a(81486),w=a(11924);function N(){let[e,t]=(0,c.useState)(0),[a,s]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{(async()=>{s(!0);try{let e=await (0,w.iv)("SCHEDULED");t(Array.isArray(e)?e.length:0)}catch(e){console.warn("Failed to load scheduled count",e),t(0)}finally{s(!1)}})()},[]),(0,r.jsx)(v.A,{title:"Vehicle In-Charge",subtitle:"Transport operations",profileHref:"/profile",roleLabel:"In-Charge",notificationHref:"/Akeel/Incharge/Scheduled",notificationCount:e,notificationLoading:a,actions:(0,r.jsxs)("button",{type:"button",onClick:()=>(0,A.ri)(),className:"inline-flex items-center gap-2 rounded-full border border-white/40 px-3 py-1.5 text-xs font-semibold text-white/90 hover:bg-white/15 transition",children:[(0,r.jsx)(m.A,{size:14}),"Logout"]})})}function I(e){let{children:t}=e;return(0,r.jsx)(s.A,{roles:["VEHICLE_INCHARGE"],children:(0,r.jsxs)("div",{className:"hod-shell flex min-h-screen bg-orange-50 text-orange-900 transition-colors duration-300",children:[(0,r.jsx)(b,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen",children:[(0,r.jsx)(N,{}),(0,r.jsx)("main",{className:"hod-main flex-1 overflow-y-auto p-4 md:p-6 space-y-4",children:t})]})]})})}},86651:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},88192:(e,t,a)=>{Promise.resolve().then(a.bind(a,86241))},91169:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},e=>{e.O(0,[5125,6394,2619,2352,8441,1255,7358],()=>e(e.s=88192)),_N_E=e.O()}]);