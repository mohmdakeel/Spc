(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8750],{15387:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>V});var s=n(95155),r=n(12115),l=n(12008);n(33262);var a=n(43566),o=n(20063),i=n(15239),c=n(12108),x=n(24033),p=n(65993),g=n(24947),h=n(87066),u=n(20508),d=n(21873),b=n(91811),m=n(53842),k=n(83581),f=n(38104),A=n(89715),j=n(71871),v=n(29502),w=n(46398),T=n(17910),y=n(91169),N=n(87454),C=n(15870),z=n(84926),S=n(68209);let R=e=>{let{label:t,icon:n,children:l,collapsed:a=!1,active:o=!1,onClick:i}=e,[p,g]=(0,r.useState)(o);return(0,s.jsxs)("div",{className:"mb-1",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{l&&g(e=>!e),null==i||i()},"aria-expanded":!a&&l?p:void 0,className:"flex items-center justify-between w-full px-4 py-3 ".concat(o?"bg-orange-600 text-white":"text-black hover:bg-orange-500 hover:text-white"," text-left transition-all rounded-lg group ").concat(a?"justify-center px-2":""),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 ".concat(a?"flex-col":""),children:[(0,s.jsx)("span",{className:"flex-shrink-0",children:n}),!a&&(0,s.jsx)("span",{className:"text-sm font-medium truncate ".concat(o?"text-white":"text-black group-hover:text-white"),children:t})]}),!a&&l&&(0,s.jsx)("span",{className:o?"text-white":"text-black group-hover:text-white",children:p?(0,s.jsx)(c.A,{size:16}):(0,s.jsx)(x.A,{size:16})})]}),!a&&p&&l&&(0,s.jsx)("div",{className:"ml-2 pl-6 mt-1 space-y-1 text-sm border-l-2 border-orange-300",children:l})]})},M=()=>{let e=(0,o.useRouter)(),t=(0,o.usePathname)(),n=t=>e.push(t),l=(0,r.useCallback)(e=>t===e||(null==t?void 0:t.startsWith(e+"/")),[t]),a=(0,r.useMemo)(()=>["/Akeel/Transport/Vehicle","/Akeel/Transport/Driver","/Akeel/Transport/AssignVehicle","/Akeel/Transport/GPSTracking","/Akeel/Transport/Fuel"].some(l),[l]),c=(0,r.useMemo)(()=>["/Akeel/Transport/Maintenance/Requests","/Akeel/Transport/Maintenance/Schedule","/Akeel/Transport/Maintenance/Log","/Akeel/Transport/Maintenance/SupplierBills"].some(l),[l]),x=(0,r.useMemo)(()=>["/Akeel/Transport/Usage/Department","/Akeel/Transport/Usage/Approved","/Akeel/Transport/Usage/Scheduling","/Akeel/Transport/Usage/Dispatch","/Akeel/Transport/Usage/Receive","/indunil"].some(l),[l]),M=(0,r.useMemo)(()=>["/Akeel/Transport/Gate/Scheduled","/Akeel/Transport/Gate/Visitors","/Akeel/Transport/Gate/Company"].some(l),[l]),U=(0,r.useMemo)(()=>["/Akeel/Transport/Reports"].some(l),[l]),D=async()=>{try{await (0,S.ri)(),e.push("/login"),e.refresh()}catch(t){console.error("Logout failed:",t),e.push("/login")}};return(0,s.jsxs)("aside",{className:"hod-sidebar bg-orange-100 border-r border-orange-200 h-screen w-64 min-w-64 p-4 overflow-y-auto transition-all duration-300 ease-in-out flex flex-col shadow-[4px_0_20px_rgba(0,0,0,0.1)] sticky top-0",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-2xl border border-orange-200 bg-white/80 flex items-center justify-center shadow-sm",children:(0,s.jsx)(i.default,{src:"/spclogopic.png",alt:"State Printing Corporation logo",width:36,height:36,className:"object-contain",priority:!0})}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h1",{className:"font-bold text-sm text-orange-900 leading-tight truncate",children:"State Printing Corporation"}),(0,s.jsx)("p",{className:"text-xs text-orange-700/70 truncate",children:"Transport Service"})]})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport"),className:"flex items-center gap-2 px-4 py-3 rounded-lg mb-4 transition-all ".concat(l("/Akeel/Transport")?"bg-orange-600 text-white":"bg-orange-200 text-black hover:bg-orange-500 hover:text-white"),children:[(0,s.jsx)(p.A,{size:20}),(0,s.jsx)("span",{children:"Dashboard"})]}),(0,s.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,s.jsxs)(R,{label:"Vehicle Management",icon:(0,s.jsx)(g.A,{size:20}),collapsed:!1,active:a,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Vehicle"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Vehicle")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(h.A,{size:16})," Vehicle Register"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Driver"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Driver")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(u.A,{size:16})," Driver Register"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/GPSTracking"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/GPSTracking")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(d.A,{size:16})," GPS Tracking"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Fuel"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Fuel")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(b.A,{size:16})," Fuel Consumption"]})]}),(0,s.jsxs)(R,{label:"Vehicle Maintenance",icon:(0,s.jsx)(m.A,{size:20}),collapsed:!1,active:c,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Maintenance/Requests"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Maintenance/Requests")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(k.A,{size:16})," Service Requests"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Maintenance/Schedule"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Maintenance/Schedule")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(f.A,{size:16})," Maintenance Schedule"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Maintenance/Log"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Maintenance/Log")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(A.A,{size:16})," Maintenance Log"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Maintenance/SupplierBills"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Maintenance/SupplierBills")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(h.A,{size:16})," Supplier Bills"]})]}),(0,s.jsxs)(R,{label:"Usage Requests",icon:(0,s.jsx)(A.A,{size:20}),collapsed:!1,active:x,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Usage/Department"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Usage/Department")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(j.A,{size:16})," All Requests"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Usage/Approved"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Usage/Approved")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(f.A,{size:16})," Track by Request"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Usage/Scheduling"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Usage/Scheduling")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(v.A,{size:16})," Assign Vehicle"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Usage/Dispatch"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Usage/Dispatch")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(w.A,{size:16})," Rent Vehicle"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/indunil/supplies/rent"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Usage/Receive")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(w.A,{size:16})," Dispatch Logs"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Usage/Receive"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Usage/Receive")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(w.A,{size:16})," Receive Logs"]})]}),(0,s.jsxs)(R,{label:"Gate Security",icon:(0,s.jsx)(T.A,{size:20}),collapsed:!1,active:M,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Gate/Scheduled"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Gate/Scheduled")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(w.A,{size:16})," Scheduled Vehicles"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Gate/Visitors"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Gate/Visitors")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(y.A,{size:16})," Visitor Vehicles"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Gate/Company"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Gate/Company")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(j.A,{size:16})," SPC Vehicles"]})]}),(0,s.jsxs)(R,{label:"Reports",icon:(0,s.jsx)(N.A,{size:20}),collapsed:!1,active:U,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Reports"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Reports")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(N.A,{size:16})," Summary Reports"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Vehicle"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Vehicle")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(h.A,{size:16})," Vehicle List"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Driver"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Driver")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(u.A,{size:16})," Driver List"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Fuel"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Fuel")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(b.A,{size:16})," Fuel Logs"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Usage/Department"),className:"flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition-all ".concat(l("/Akeel/Transport/Usage/Department")?"bg-orange-600 text-white":"text-black hover:text-white hover:bg-orange-500"),children:[(0,s.jsx)(A.A,{size:16})," Usage Requests"]})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-orange-300 mt-auto space-y-1",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Profile"),className:"flex items-center gap-3 px-4 py-3 rounded-lg w-full transition-all\n          ".concat(l("/Akeel/Transport/Profile")?"bg-orange-600 text-white":"text-black hover:bg-orange-500 hover:text-white","\n          ").concat(""),children:[(0,s.jsx)(u.A,{size:18}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Profile"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/History"),className:"flex items-center gap-3 px-4 py-3 rounded-lg w-full transition-all\n          ".concat(l("/Akeel/Transport/History")?"bg-orange-600 text-white":"text-black hover:bg-orange-500 hover:text-white"),children:[(0,s.jsx)(A.A,{size:18}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"History"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>n("/Akeel/Transport/Settings"),className:"flex items-center gap-3 px-4 py-3 rounded-lg w-full transition-all\n          ".concat(l("/Akeel/Transport/Settings")?"bg-orange-600 text-white":"text-black hover:bg-orange-500 hover:text-white"),children:[(0,s.jsx)(C.A,{size:18}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Settings"})]}),(0,s.jsxs)("button",{type:"button",onClick:D,className:"flex items-center gap-3 px-4 py-3 rounded-lg w-full transition-all text-black hover:bg-red-500 hover:text-white",children:[(0,s.jsx)(z.A,{size:18}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})};var U=n(4259),D=n(43968);function V(e){let{children:t}=e,{user:n}=(0,U.A)();return(0,s.jsx)(D.A,{roles:["ADMIN","TRANSPORT_ADMIN","TRANSPORT"],children:(0,s.jsxs)("div",{className:"auth-shell",children:[(0,s.jsx)(M,{}),(0,s.jsxs)("div",{className:"auth-shell__main overflow-hidden",children:[(0,s.jsx)(a.A,{user:n,appName:"SPC Transport",workspace:"Transport Operations",profileTag:"Transport Suite",profileHref:"/Akeel/Transport/Profile",settingsHref:"/Akeel/Transport/Settings"}),(0,s.jsx)("main",{className:"auth-shell__content",children:(0,s.jsx)("div",{className:"mx-auto w-full max-w-[1400px] space-y-6",children:t})})]}),(0,s.jsx)(l.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",style:{zIndex:1e4}})]})})}},43968:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(95155),r=n(12115),l=n(20063),a=n(4259);function o(e){let{roles:t,children:n,fallback:o}=e,{user:i,loading:c,hasRole:x}=(0,a.A)(),p=(0,l.useRouter)(),g=(0,l.usePathname)()||"/";return((0,r.useEffect)(()=>{if(!c){if(!i)return void p.replace("/login");i.roles&&0!==i.roles.length&&(x(t)||p.replace("/403"))}},[c,i,t,p,x,g]),!c&&i&&i.roles&&0!==i.roles.length)?x(t)?(0,s.jsx)(s.Fragment,{children:n}):(0,s.jsx)(s.Fragment,{children:null!=o?o:null}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Checking permissions..."})]})})}},94172:(e,t,n)=>{Promise.resolve().then(n.bind(n,15387))}},e=>{e.O(0,[7125,5125,970,6394,2619,4651,3566,8441,1255,7358],()=>e(e.s=94172)),_N_E=e.O()}]);