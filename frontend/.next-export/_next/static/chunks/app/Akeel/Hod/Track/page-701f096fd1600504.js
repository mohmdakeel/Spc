(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[299],{309:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},7640:(e,t,r)=>{"use strict";r.d(t,{Td:()=>a,Th:()=>s});var n=r(95155);function s(e){let{children:t,className:r="",sortable:s,sortDirection:a,onClick:i,...l}=e;return(0,n.jsx)("th",{...l,"aria-sort":"asc"===a?"ascending":"desc"===a?"descending":"none",onClick:s?i:void 0,onKeyDown:s?e=>{s&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),null==i||i())}:void 0,tabIndex:s?0:void 0,className:["px-2 py-2 md:px-3 md:py-2.5 text-left font-semibold text-orange-900 whitespace-normal align-middle leading-snug bg-orange-100 border-b-2 border-orange-200",s?"cursor-pointer hover:bg-orange-200 transition-colors":"",a?"bg-orange-200":"",r].join(" "),children:(0,n.jsxs)("div",{className:"flex items-center gap-2 select-none",children:[t,s&&(0,n.jsx)("span",{"aria-hidden":"true",className:"text-orange-600",children:"asc"===a?"↑":"desc"===a?"↓":"↕"})]})})}function a(e){let{children:t,className:r="",highlight:s,...a}=e;return(0,n.jsx)("td",{...a,className:["px-2 py-2 md:px-3 md:py-2.5 align-top border-b border-orange-100 transition-colors duration-150 whitespace-normal break-words leading-snug text-orange-800",s?"bg-orange-50 font-medium":"",r].join(" "),children:t})}r(12115)},11924:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>x,Lh:()=>c,bB:()=>s,bk:()=>d,cK:()=>i,iq:()=>o,iv:()=>l,kM:()=>p,lm:()=>a,qd:()=>g,rg:()=>h,rr:()=>u,uK:()=>m});var n=r(81242);async function s(e){let{data:t}=await n.A.post("/usage-requests",e);return(0,n.I)(t)}async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,{data:s}=await n.A.get("/usage-requests/my",{params:{employeeId:e,page:t,size:r}});return(0,n.I)(s)}async function i(){try{let{data:e}=await n.A.get("/usage-requests/all");return(0,n.I)(e)}catch(r){let{data:e}=await n.A.get("/usage-requests"),t=(0,n.I)(e);if(Array.isArray(t))return t;if((null==t?void 0:t.content)&&Array.isArray(t.content))return t.content;return t}}async function l(e){try{let{data:t}=await n.A.get("/usage-requests/status/".concat(e));return(0,n.I)(t)}catch(t){return console.warn("Failed to load usage requests by status",e,t),[]}}async function o(e){let{data:t}=await n.A.get("/usage-requests/".concat(e));return(0,n.I)(t)}let c=async(e,t)=>(0,n.I)((await n.A.post("/usage-requests/".concat(e,"/hod/approve"),{remarks:t})).data),d=async(e,t)=>(0,n.I)((await n.A.post("/usage-requests/".concat(e,"/hod/reject"),{remarks:t})).data),u=async(e,t)=>(0,n.I)((await n.A.post("/usage-requests/".concat(e,"/mgmt/approve"),{remarks:t})).data),h=async(e,t)=>(0,n.I)((await n.A.post("/usage-requests/".concat(e,"/mgmt/reject"),{remarks:t})).data);async function m(e,t){let r={...t,pickupAt:t.pickupAt instanceof Date?t.pickupAt.toISOString():t.pickupAt,expectedReturnAt:t.expectedReturnAt instanceof Date?t.expectedReturnAt.toISOString():t.expectedReturnAt},{data:s}=await n.A.post("/usage-requests/".concat(e,"/assign"),r);return(0,n.I)(s)}async function p(e,t){let r={};"number"==typeof t.exitOdometer&&(r.exitOdometer=t.exitOdometer),"number"==typeof t.odometerStartKm&&null==r.exitOdometer&&(r.exitOdometer=t.odometerStartKm);let s=[];t.remarks&&s.push({type:"note",value:String(t.remarks)}),Array.isArray(t.exitManifest)&&t.exitManifest.length&&s.push(...t.exitManifest),s.length&&(r.exitManifest=s);let{data:a}=await n.A.post("/usage-requests/".concat(e,"/gate/exit"),r);return(0,n.I)(a)}async function x(e,t){let r={};"number"==typeof t.entryOdometer&&(r.entryOdometer=t.entryOdometer),"number"==typeof t.odometerEndKm&&null==r.entryOdometer&&(r.entryOdometer=t.odometerEndKm);let s=[];t.remarks&&s.push({type:"note",value:String(t.remarks)}),Array.isArray(t.entryManifest)&&t.entryManifest.length&&s.push(...t.entryManifest),s.length&&(r.entryManifest=s);let{data:a}=await n.A.post("/usage-requests/".concat(e,"/gate/entry"),r);return(0,n.I)(a)}async function g(){let{data:e}=await n.A.get("/usage-requests/metrics");return(0,n.I)(e)}},38094:(e,t,r)=>{"use strict";r.d(t,{A:()=>n.A});var n=r(74794)},42334:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(95155),s=r(12115),a=r(11924),i=r(7640),l=r(309),o=r(65229),c=r(38094);let d=e=>e?new Date(e).toLocaleString():"—",u=e=>{let t=(null==e?void 0:e.appliedDate)||(null==e?void 0:e.applied_on)||(null==e?void 0:e.appliedOn),r=(null==e?void 0:e.appliedTime)||(null==e?void 0:e.applied_time);if(t&&r)return"".concat(t," ").concat(r);if(t&&(null==e?void 0:e.createdAt)){let r=new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return"".concat(t," ").concat(r)}return(null==e?void 0:e.createdAt)?d(e.createdAt):"—"};function h(e){return Array.isArray(e)?e:e&&Array.isArray(e.content)?e.content:e&&Array.isArray(e.items)?e.items:[]}let m=["PENDING_MANAGEMENT","APPROVED","SCHEDULED","DISPATCHED","RETURNED"],p=["PENDING MANAGMENT","SENT_TO_MANAGEMENT"],x=new Set([...m,...p,"ASSIGNED","COMPLETED"]);function g(e){var t;let r=document.createElement("iframe");Object.assign(r.style,{position:"fixed",right:"0",bottom:"0",width:"0",height:"0",border:"0"}),document.body.appendChild(r);let n=null==(t=r.contentWindow)?void 0:t.document;if(!n)return void document.body.removeChild(r);n.open(),n.write(e),n.close(),r.onload=()=>{try{var e,t;null==(e=r.contentWindow)||e.focus(),null==(t=r.contentWindow)||t.print()}catch(e){}setTimeout(()=>{try{document.body.removeChild(r)}catch(e){}},1200)}}function f(){let[e,t]=s.useState([]),[r,o]=s.useState([]),[f,v]=s.useState(!0),[b,A]=s.useState(""),[N,j]=s.useState(null),[w,E]=s.useState(""),[k,C]=s.useState(null),T=s.useMemo(()=>["15%","12%","22%","21%","24%","6%"],[]),D=s.useCallback(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=new Set,n=e.filter(e=>{var n,s;let a=String(null!=(s=null!=(n=null==e?void 0:e.id)?n:null==e?void 0:e.requestCode)?s:"");return!(!a||r.has(a))&&(r.add(a),!t||!!x.has(String((null==e?void 0:e.status)||"").toUpperCase()))});return n.sort((e,t)=>(Date.parse((null==t?void 0:t.createdAt)||"")||0)-(Date.parse((null==e?void 0:e.createdAt)||"")||0)),n},[]);s.useEffect(()=>{(async()=>{v(!0);try{let e=[...m,...p,"ASSIGNED","COMPLETED"],r=[];for(let t of e)try{let e=await (0,a.iv)(t);r.push(h(e))}catch(e){}let n=r.flat();if(!n.length)try{n=h(await (0,a.cK)()).filter(e=>x.has(String((null==e?void 0:e.status)||"").toUpperCase()))}catch(e){}let s=D(n,!0);t(s),o(s)}finally{v(!1)}})()},[D]),s.useEffect(()=>{w||(o(e),C(null))},[w,e]);let S=s.useMemo(()=>{let e=b.trim().toLowerCase();return e?r.filter(t=>[t.requestCode,t.status,t.assignedVehicleNumber,t.assignedDriverName,t.assignedDriverPhone,t.scheduledPickupAt,t.scheduledReturnAt,t.gateExitAt,t.gateEntryAt,t.exitOdometer,t.entryOdometer,u(t)].map(e=>(null!=e?e:"").toString().toLowerCase()).join(" ").includes(e)):r},[r,b]),O=s.useCallback(()=>{let e=S.map(e=>{var t,r;return'\n<tr>\n  <td><div class="rq">'.concat(e.requestCode||"",'</div><div class="sub">').concat(u(e),'</div></td>\n  <td class="center">').concat(e.status||"","</td>\n  <td><div>").concat(e.assignedVehicleNumber||"—",'</div><div class="sub">').concat(e.assignedDriverName||"—").concat(e.assignedDriverPhone?" (".concat(e.assignedDriverPhone,")"):"","</div></td>\n  <td><div>P: ").concat(d(e.scheduledPickupAt),'</div><div class="sub">R: ').concat(d(e.scheduledReturnAt),"</div></td>\n  <td><div>Ex ").concat(d(e.gateExitAt),' <span class="sub">• O ').concat(null!=(t=e.exitOdometer)?t:"—","</span></div><div>En ").concat(d(e.gateEntryAt),' <span class="sub">• O ').concat(null!=(r=e.entryOdometer)?r:"—","</span></div></td>\n</tr>")}).join("");g('<!DOCTYPE html>\n<html><head><meta charset="utf-8"/><title>Track Requests - Print</title><meta name="viewport" content="width=device-width, initial-scale=1"/>\n<style>\n:root{--fg:#111;--muted:#666;--head:#faf5f0}*{box-sizing:border-box}body{margin:0;padding:10mm;font-family:system-ui,Arial,sans-serif;color:var(--fg)}\nh3{margin:0 0 8px 0}.meta{margin:4px 0 8px 0;font-size:12px;color:var(--muted)}\ntable{width:100%;border-collapse:collapse;table-layout:fixed}thead{display:table-header-group}\nth,td{border:1px solid #ddd;padding:6px 8px;vertical-align:top;font-size:12px}th{background:var(--head);text-align:left}\n.center{text-align:center}.sub{color:var(--muted);font-size:11px}.rq{font-weight:600;color:#8b4513}\ncol.c1{width:15%}col.c2{width:12%}col.c3{width:22%}col.c4{width:21%}col.c5{width:24%}\n@media print{@page{size:A4 landscape;margin:8mm}body{padding:0}}\n</style></head>\n<body>\n  <h3>Track Request — HOD (Approved only)</h3>\n  <div class="meta">Results: '.concat(S.length,'</div>\n  <table>\n    <colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/><col class="c5"/></colgroup>\n    <thead><tr><th>RQ ID / Applied</th><th class="center">Status</th><th>Assigned</th><th>Schedule</th><th>Gate</th></tr></thead>\n    <tbody>').concat(e||'<tr><td colspan="5">No data</td></tr>',"</tbody>\n  </table>\n  <script>addEventListener('load',()=>setTimeout(()=>{focus();print();},150));<\/script>\n</body></html>"))},[S]),P=s.useCallback(e=>{var t,r;g('<!DOCTYPE html>\n<html><head><meta charset="utf-8"/><title>'.concat(e.requestCode||"Request",' - Print</title><meta name="viewport" content="width=device-width, initial-scale=1"/>\n<style>*{box-sizing:border-box}body{margin:0;padding:12mm;font-family:system-ui,Arial,sans-serif;color:#111}\nh2{margin:0 0 12px 0}table{width:100%;border-collapse:collapse;margin-top:10px}\nth,td{border:1px solid #ddd;padding:6px 8px;font-size:12px;vertical-align:top}th{background:#faf5f0;text-align:left;width:34%}\n@media print{@page{size:A4 portrait;margin:10mm}body{padding:0}}</style></head>\n<body>\n  <h2>Transport Request • ').concat(e.requestCode||"","</h2>\n  <table>\n    <tr><th>Status</th><td>").concat(e.status||"—","</td></tr>\n    <tr><th>Assigned</th><td>").concat(e.assignedVehicleNumber||"—"," / ").concat(e.assignedDriverName||"—").concat(e.assignedDriverPhone?" (".concat(e.assignedDriverPhone,")"):"","</td></tr>\n    <tr><th>Pickup</th><td>").concat(d(e.scheduledPickupAt),"</td></tr>\n    <tr><th>Return</th><td>").concat(d(e.scheduledReturnAt),"</td></tr>\n    <tr><th>Gate Exit • Odometer</th><td>").concat(d(e.gateExitAt)," • O ").concat(null!=(t=e.exitOdometer)?t:"—","</td></tr>\n    <tr><th>Gate Entry • Odometer</th><td>").concat(d(e.gateEntryAt)," • O ").concat(null!=(r=e.entryOdometer)?r:"—","</td></tr>\n  </table>\n  <script>addEventListener('load',()=>setTimeout(()=>{focus();print();},150));<\/script>\n</body></html>"))},[]),q=s.useCallback(async t=>{null==t||t.preventDefault();let r=w.trim();if(!r){o(e),C(null);return}v(!0),C(null);try{let e=await (0,a.cK)(),t=h(e).filter(e=>String((null==e?void 0:e.requestCode)||"").toLowerCase().includes(r.toLowerCase()));if(t.length){let e=D(t,!1);o(e),C("Showing ".concat(e.length," match").concat(e.length>1?"es":""))}else C("No requests found for that ID")}catch(e){C("Unable to fetch requests right now")}finally{v(!1)}},[w,e,D]),I=s.useCallback(()=>{E(""),C(null),o(e)},[e]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between mb-3",children:[(0,n.jsx)("h1",{className:"text-sm md:text-base font-semibold text-orange-900",children:"Track Request (HOD — Approved only)"}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-auto md:flex-row md:items-center",children:[(0,n.jsx)(c.A,{value:b,onChange:A,placeholder:"Search by code, vehicle, driver…",className:"w-full md:w-72"}),(0,n.jsxs)("button",{type:"button",onClick:O,className:"inline-flex items-center justify-center gap-1 px-3 h-11 md:h-10 rounded-lg bg-orange-600 text-white hover:bg-orange-700 text-xs font-semibold",title:"Print all (current filter)",children:[(0,n.jsx)(l.A,{size:14})," Print"]})]})]}),(0,n.jsxs)("form",{onSubmit:q,className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-3 mb-4",children:[(0,n.jsx)(c.A,{value:w,onChange:E,placeholder:"Quick lookup by Request ID / Code",className:"w-full md:w-80"}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center rounded-lg border border-orange-300 px-4 py-2 text-sm font-semibold text-orange-700 hover:bg-orange-50",children:"Track ID"}),w&&(0,n.jsx)("button",{type:"button",onClick:I,className:"inline-flex items-center justify-center rounded-lg border border-orange-200 px-4 py-2 text-sm text-orange-700 hover:bg-orange-50",children:"Reset"})]}),k&&(0,n.jsx)("p",{className:"text-xs text-gray-600 md:ml-3",children:k})]}),(0,n.jsx)("div",{className:"bg-white rounded-md border border-orange-200",children:(0,n.jsxs)("table",{className:"w-full table-fixed text-[12.5px] leading-[1.25]",children:[(0,n.jsx)("colgroup",{children:T.map((e,t)=>(0,n.jsx)("col",{style:{width:e}},t))}),(0,n.jsx)("thead",{className:"bg-orange-50",children:(0,n.jsxs)("tr",{className:"text-[12px]",children:[(0,n.jsx)(i.Th,{className:"px-2 py-1 text-left",children:"RQ ID / Applied"}),(0,n.jsx)(i.Th,{className:"px-2 py-1 text-center",children:"Status"}),(0,n.jsx)(i.Th,{className:"px-2 py-1 text-left",children:"Assigned"}),(0,n.jsx)(i.Th,{className:"px-2 py-1 text-left",children:"Schedule"}),(0,n.jsx)(i.Th,{className:"px-2 py-1 text-left",children:"Gate"}),(0,n.jsx)(i.Th,{className:"px-2 py-1 text-center",children:"Print"})]})}),(0,n.jsxs)("tbody",{className:"divide-y",children:[f&&(0,n.jsx)("tr",{children:(0,n.jsx)(i.Td,{colSpan:6,className:"px-2 py-6 text-center text-gray-500",children:"Loading…"})}),!f&&S.map(e=>{var t,r,s;return(0,n.jsxs)("tr",{className:"align-top hover:bg-orange-50/40 cursor-pointer",onClick:()=>j(e),title:"Click to view row details",children:[(0,n.jsxs)(i.Td,{className:"px-2 py-1 whitespace-normal break-words",children:[(0,n.jsx)("div",{className:"font-semibold text-orange-900",children:e.requestCode||"—"}),(0,n.jsx)("div",{className:"text-[11px] text-gray-600",children:u(e)})]}),(0,n.jsx)(i.Td,{className:"px-2 py-1 text-center align-top",children:(0,n.jsx)("div",{className:"flex items-start justify-center min-w-0",children:function(e){let t=(e||"—").toUpperCase().trim(),r="bg-orange-100 text-orange-800",s=r,a=t.replaceAll("_"," ");return"PENDING_MANAGEMENT"===t||"PENDING MANAGMENT"===t||"SENT_TO_MANAGEMENT"===t?(s=r,t.startsWith("PENDING")&&(a="PENDING MGMT"),t.startsWith("SENT")&&(a="SENT TO MGMT")):"APPROVED"===t||"ASSIGNED"===t||"COMPLETED"===t||"SCHEDULED"===t||"DISPATCHED"===t||"RETURNED"===t?s="bg-green-100 text-green-800":"REJECTED"===t&&(s="bg-red-100 text-red-800"),(0,n.jsx)("span",{className:"".concat("inline-flex items-center justify-center px-2 py-[3px] rounded leading-[1.05] text-[11px] whitespace-normal break-words max-w-[8.75rem]"," ").concat(s),children:a||"—"})}(e.status)})}),(0,n.jsxs)(i.Td,{className:"px-2 py-1 whitespace-normal break-words",children:[(0,n.jsx)("div",{children:e.assignedVehicleNumber||"—"}),(0,n.jsxs)("div",{className:"text-[11px] text-gray-700",children:[e.assignedDriverName||"—",e.assignedDriverPhone?" (".concat(e.assignedDriverPhone,")"):""]})]}),(0,n.jsxs)(i.Td,{className:"px-2 py-1 whitespace-normal break-words",children:[(0,n.jsxs)("div",{children:["P: ",d(e.scheduledPickupAt)]}),(0,n.jsxs)("div",{className:"text-[11px] text-gray-700",children:["R: ",d(e.scheduledReturnAt)]})]}),(0,n.jsxs)(i.Td,{className:"px-2 py-1 whitespace-normal break-words",children:[(0,n.jsxs)("div",{children:["Ex ",d(e.gateExitAt)," ",(0,n.jsxs)("span",{className:"text-[11px] text-gray-600",children:["• O ",null!=(t=e.exitOdometer)?t:"—"]})]}),(0,n.jsxs)("div",{children:["En ",d(e.gateEntryAt)," ",(0,n.jsxs)("span",{className:"text-[11px] text-gray-600",children:["• O ",null!=(r=e.entryOdometer)?r:"—"]})]})]}),(0,n.jsx)(i.Td,{className:"px-2 py-1 text-center",onClick:e=>e.stopPropagation(),children:(0,n.jsx)("button",{type:"button",className:"inline-flex items-center justify-center w-7 h-7 rounded bg-orange-600 text-white hover:bg-orange-700",title:"Print this row",onClick:()=>P(e),children:(0,n.jsx)(l.A,{size:13})})})]},String(null!=(s=null==e?void 0:e.id)?s:null==e?void 0:e.requestCode))}),!f&&!S.length&&(0,n.jsx)("tr",{children:(0,n.jsx)(i.Td,{colSpan:6,className:"px-2 py-6 text-center text-gray-500",children:"No requests found."})})]})]})}),N&&(0,n.jsx)(y,{request:N,onClose:()=>j(null)})]})}function y(e){var t,r;let{request:s,onClose:a}=e;return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/40 grid place-items-center z-50 p-3",onClick:a,children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-orange-50",children:[(0,n.jsxs)("h3",{className:"font-bold text-orange-900 text-[13px]",children:["Request • ",s.requestCode]}),(0,n.jsx)("button",{className:"p-1 rounded hover:bg-orange-100",onClick:a,"aria-label":"Close",children:(0,n.jsx)(o.A,{size:16})})]}),(0,n.jsx)("div",{className:"p-4 text-[12px] leading-tight space-y-3",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,n.jsxs)("section",{children:[(0,n.jsx)("div",{className:"text-orange-800 font-semibold mb-1",children:"Status"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Status:"})," ",s.status]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Applied:"})," ",d(s.createdAt)]})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("div",{className:"text-orange-800 font-semibold mb-1",children:"Assigned"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Vehicle:"})," ",s.assignedVehicleNumber||"—"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Driver:"})," ",s.assignedDriverName||"—",s.assignedDriverPhone?" (".concat(s.assignedDriverPhone,")"):""]})]}),(0,n.jsxs)("section",{className:"md:col-span-2",children:[(0,n.jsx)("div",{className:"text-orange-800 font-semibold mb-1",children:"Schedule"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Pickup:"})," ",d(s.scheduledPickupAt)," • ",(0,n.jsx)("b",{children:"Return:"})," ",d(s.scheduledReturnAt)]})]}),(0,n.jsxs)("section",{className:"md:col-span-2",children:[(0,n.jsx)("div",{className:"text-orange-800 font-semibold mb-1",children:"Gate"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Exit:"})," ",d(s.gateExitAt)," • ",(0,n.jsxs)("span",{className:"text-[11px] text-gray-600",children:["O ",null!=(t=s.exitOdometer)?t:"—"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:"Entry:"})," ",d(s.gateEntryAt)," • ",(0,n.jsxs)("span",{className:"text-[11px] text-gray-600",children:["O ",null!=(r=s.entryOdometer)?r:"—"]})]})]})]})})]})})}},47646:(e,t,r)=>{Promise.resolve().then(r.bind(r,42334))},65229:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h}=e;return(0,n.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:o?24*Number(l)/Number(s):l,className:a("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:o,...c}=r;return(0,n.createElement)(l,{ref:i,iconNode:t,className:a("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return r.displayName=s(e),r}},74794:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(95155),s=r(86651),a=r(65229);function i(e){let{value:t,onChange:r,placeholder:i="Search…",className:l=""}=e;return(0,n.jsx)("div",{className:"w-full ".concat(l).trim(),children:(0,n.jsxs)("div",{className:"relative flex items-center",children:[(0,n.jsx)(s.A,{size:16,className:"absolute left-3 text-orange-500 pointer-events-none","aria-hidden":"true"}),(0,n.jsx)("input",{value:t,onChange:e=>r(e.target.value),placeholder:i,className:"hod-search-input w-full rounded-xl border border-orange-200 bg-white py-2.5 pl-9 pr-8 text-sm text-orange-900 placeholder:text-orange-400/70 focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-300"}),t?(0,n.jsx)("button",{type:"button",onClick:()=>r(""),className:"absolute right-2 flex h-6 w-6 items-center justify-center rounded-full text-orange-500 hover:bg-orange-100","aria-label":"Clear search",children:(0,n.jsx)(a.A,{size:14})}):null]})})}},81242:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,I:()=>c});var n=r(95125),s=r(95704);let a=(s.env.NEXT_PUBLIC_TRANSPORT_BASE||"").replace(/\/$/,""),i=Math.min(Number(s.env.NEXT_PUBLIC_TRANSPORT_TIMEOUT)||1e4,15e3),l=n.A.create({baseURL:a?"".concat(a,"/api"):"/tapi",withCredentials:!0,headers:{"Content-Type":"application/json"},timeout:i}),o=l;function c(e){if(e&&"object"==typeof e&&"ok"in e){if(!1===e.ok)throw Error(e.message||"Request failed");return e.data}return e}l.interceptors.request.use(e=>{{var t,r;let n=localStorage.getItem("username")||localStorage.getItem("actor")||localStorage.getItem("employeeId")||void 0;n&&(e.headers=null!=(t=e.headers)?t:{},e.headers["X-Actor"]=n);let s=localStorage.getItem("role")||void 0;s&&(e.headers=null!=(r=e.headers)?r:{},e.headers["X-Role"]=s)}return e}),l.interceptors.response.use(e=>e,e=>{let t=null==e?void 0:e.code,r=((null==e?void 0:e.message)||"").toLowerCase();if("ECONNABORTED"===t||r.includes("timeout")){var n,s,a,i;return console.warn("Transport API timeout – returning empty response"),Promise.resolve({status:null!=(a=null==(n=e.response)?void 0:n.status)?a:0,statusText:"Request Timeout",data:null,headers:null!=(i=null==(s=e.response)?void 0:s.headers)?i:{},config:e.config,request:e.request})}return Promise.reject(e)})},86651:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}},e=>{e.O(0,[5125,8441,1255,7358],()=>e(e.s=47646)),_N_E=e.O()}]);