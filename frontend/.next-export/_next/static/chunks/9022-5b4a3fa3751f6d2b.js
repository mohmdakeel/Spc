"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9022],{5354:(n,e,t)=>{t.d(e,{B:()=>s});var a=t(95155),r=t(4259);function s(n){let{require:e,fallback:t=null,children:s}=n,{can:o}=(0,r.A)();return!e||o(e)?(0,a.jsx)(a.Fragment,{children:s}):(0,a.jsx)(a.Fragment,{children:t})}},11382:(n,e,t)=>{t.d(e,{ZD:()=>r,ZS:()=>o,dq:()=>s});let a={name:"State Printing Corporation",tagline:"Official ERP Workspace",address:"Panaluwa, Watareka, Padukka, Sri Lanka",contact:"Phone: 0112757505 / 0112859308 • Fax: 011-2757506 • Email: chairmanspc2022@gmail.com • www.spclanka.gov.lk"},r=n=>null==n?"":String(n).replace(/[&<>"']/g,n=>{switch(n){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#39;";default:return n}}),s=n=>{let e=(n=>{let{title:e,subtitle:t,contentHtml:s,printedBy:o,pageOrientation:i,extraCss:c}=n,l=new Date,d="".concat(l.toLocaleDateString()," ").concat(l.toLocaleTimeString()),p=new URL("/spclogopic.png",window.location.origin).toString();return'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>'.concat(r(e),"</title>\n    <style>\n      @page {\n        margin: 15mm;\n        size: A4 ").concat("landscape"===i?"landscape":"portrait",";\n      }\n      body {\n        margin: 0;\n        font-family: 'Inter', 'Segoe UI', Arial, sans-serif;\n        color: #1f2937;\n        background: #ffffff;\n      }\n      .spc-print {\n        max-width: 960px;\n        margin: 0 auto;\n        padding: 32px 36px;\n      }\n      .spc-print__header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        border-bottom: 2px solid #ea580c;\n        padding-bottom: 16px;\n        margin-bottom: 24px;\n        gap: 24px;\n      }\n      .spc-brand {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n      }\n      .spc-brand__logo {\n        width: 64px;\n        height: 64px;\n        border-radius: 18px;\n        border: 1px solid rgba(249, 115, 22, 0.35);\n        background: rgba(249, 115, 22, 0.08);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 8px;\n      }\n      .spc-brand__logo img {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n      }\n      .spc-brand__text {\n        line-height: 1.3;\n      }\n      .spc-brand__name {\n        font-size: 1.25rem;\n        font-weight: 700;\n        margin: 0;\n        color: #7c2d12;\n      }\n      .spc-brand__tagline {\n        font-size: 0.9rem;\n        margin: 0;\n        color: #9a3412;\n      }\n      .spc-brand__meta {\n        font-size: 0.8rem;\n        margin: 4px 0 0;\n        color: #6b7280;\n      }\n      .spc-document-meta {\n        text-align: right;\n        font-size: 0.85rem;\n        color: #4b5563;\n      }\n      .spc-document-meta strong {\n        display: block;\n        color: #111827;\n      }\n      .spc-print__body h1 {\n        font-size: 1.4rem;\n        margin: 0 0 6px;\n        color: #111827;\n      }\n      .spc-print__body h2 {\n        font-size: 1rem;\n        margin: 0 0 18px;\n        color: #6b7280;\n        font-weight: 500;\n      }\n      .spc-table {\n        width: 100%;\n        border-collapse: separate;\n        border-spacing: 0;\n        margin-top: 12px;\n        font-size: 0.88rem;\n        border: 1px solid #f0d5bf;\n        border-radius: 12px;\n        overflow: hidden;\n      }\n      .spc-table thead th {\n        text-align: left;\n        padding: 8px 10px;\n        background: #fff1e6;\n        color: #7c2d12;\n        border: 1px solid #f9d6b4;\n        font-size: 0.82rem;\n      }\n      .spc-table tbody td {\n        padding: 8px 10px;\n        border-bottom: 1px solid #f0d5bf;\n        border-right: 1px solid #f0d5bf;\n        color: #374151;\n      }\n      .spc-table tr:last-child td {\n        border-bottom: none;\n      }\n      .spc-empty {\n        padding: 16px;\n        border: 1px dashed #f8c4a0;\n        background: #fff8f0;\n        text-align: center;\n        font-size: 0.9rem;\n        color: #92400e;\n        border-radius: 8px;\n        margin-top: 16px;\n      }\n      .spc-section {\n        border: 1px solid #f4d6be;\n        border-radius: 14px;\n        padding: 16px 20px;\n        margin-top: 16px;\n        background: #fffdfb;\n      }\n      .spc-section + .spc-section {\n        margin-top: 20px;\n      }\n      .spc-section__title {\n        font-size: 1rem;\n        font-weight: 600;\n        margin: 0 0 12px;\n        color: #1f2937;\n      }\n      .spc-definition {\n        width: 100%;\n        border-collapse: collapse;\n      }\n      .spc-definition td {\n        padding: 6px 0;\n        font-size: 0.9rem;\n        vertical-align: top;\n      }\n      .spc-definition td:first-child {\n        width: 35%;\n        font-weight: 600;\n        color: #4b5563;\n      }\n      .spc-definition td:last-child {\n        color: #111827;\n      }\n      .spc-chip {\n        display: inline-flex;\n        align-items: center;\n        padding: 2px 10px;\n        border-radius: 999px;\n        font-size: 0.78rem;\n        font-weight: 600;\n        margin: 2px 6px 0 0;\n      }\n      .spc-chip--role {\n        background: #fff3e0;\n        border: 1px solid #fdba74;\n        color: #9a3412;\n      }\n      .spc-chip--perm {\n        background: #e0f2fe;\n        border: 1px solid #93c5fd;\n        color: #1e3a8a;\n      }\n      .spc-print__footer {\n        margin-top: 32px;\n        display: flex;\n        flex-wrap: wrap;\n        gap: 32px;\n        font-size: 0.85rem;\n        color: #374151;\n      }\n      .spc-signature__field {\n        min-width: 220px;\n      }\n      .spc-signature__value {\n        display: block;\n        min-height: 24px;\n        border-bottom: 1px solid #d1d5db;\n        margin-top: 6px;\n      }\n      @media print {\n        body {\n          background: #fff;\n        }\n        .spc-print {\n          padding: 0;\n        }\n      }\n      ").concat(c||"",'\n    </style>\n  </head>\n  <body>\n    <main class="spc-print">\n      <header class="spc-print__header">\n        <div class="spc-brand">\n          <div class="spc-brand__logo">\n            <img src="').concat(p,'" alt="').concat(r(a.name),' logo" />\n          </div>\n          <div class="spc-brand__text">\n            <p class="spc-brand__name">').concat(r(a.name),'</p>\n            <p class="spc-brand__tagline">').concat(r(a.tagline),'</p>\n            <p class="spc-brand__meta">').concat(r(a.address)," • ").concat(r(a.contact),'</p>\n          </div>\n        </div>\n        <div class="spc-document-meta">\n          <strong>').concat(r(e),"</strong>\n          ").concat(t?"<span>".concat(r(t),"</span>"):"","\n          <span>Printed on: ").concat(r(d),'</span>\n        </div>\n      </header>\n      <section class="spc-print__body">\n        ').concat(s,'\n      </section>\n      <section class="spc-print__footer">\n        <div class="spc-signature__field">\n          Printed by\n          <span class="spc-signature__value">').concat(o?r(o):"&nbsp;",'</span>\n        </div>\n        <div class="spc-signature__field">\n          Authorised Signature\n          <span class="spc-signature__value"></span>\n        </div>\n      </section>\n    </main>\n    <script>\n      window.addEventListener(\'load\', () => {\n        setTimeout(() => {\n          window.focus();\n          window.print();\n          setTimeout(() => window.close(), 400);\n        }, 200);\n      });\n    <\/script>\n  </body>\n</html>')})(n),t=window.open("","_blank","width=1024,height=768");if(t){try{t.opener=null}catch(n){}t.document.open(),t.document.write(e),t.document.close()}},o=()=>{for(let e of["fullName","username","actor","applicantName","employeeName"]){var n;let t=null==(n=window.localStorage)?void 0:n.getItem(e);if(t&&t.trim().length)return t}}},36710:(n,e,t)=>{t.d(e,{A:()=>_});var a=t(95155),r=t(52619),s=t.n(r),o=t(15239),i=t(20063),c=t(65993),l=t(91169),d=t(20508),p=t(17910),g=t(15870),m=t(54485),x=t(80534),b=t(50069),h=t(84926),f=t(68209),u=t(12115);let w=[{text:"Dashboard",icon:c.A,path:"/dashboard",roles:["ADMIN","AUTH_ADMIN","HRD","HOD","GM","CHAIRMAN","TRANSPORT_ADMIN","TRANSPORT","VEHICLE_INCHARGE"],perm:"READ"},{text:"Employees",icon:l.A,path:"/employees",roles:["ADMIN","HRD","HOD","GM","TRANSPORT_ADMIN"],perm:"READ"},{text:"Users",icon:d.A,path:"/users",roles:["ADMIN","AUTH_ADMIN","HRD"],perm:"READ"},{text:"Roles",icon:p.A,path:"/roles",roles:["ADMIN"],perm:"READ"},{text:"Permissions",icon:g.A,path:"/permissions",roles:["ADMIN"],perm:"READ"},{text:"History",icon:m.A,path:"/history",roles:["ADMIN","AUTH_ADMIN","HRD","HOD","GM","TRANSPORT_ADMIN"],perm:"READ"},{text:"Reports",icon:x.A,path:"/reports",roles:["ADMIN","HRD","HOD","GM","CHAIRMAN"],perm:"READ"}];function _(n){let{user:e,isOpen:t,onClose:r}=n,c=(0,i.usePathname)()||"";(0,i.useRouter)();let[l,d]=(0,u.useState)(!1),p=w.filter(n=>{var t,a,r;return(!(t=n.roles)||0===t.length||t.some(n=>{var t;return null==(t=e.roles)?void 0:t.includes(n)}))&&(!(a=n.perm)||(null==(r=e.permissions)?void 0:r.includes(a)))}),m=async()=>{try{await (0,f.ri)()}finally{window.location.href="/login"}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("aside",{className:"hod-sidebar w-64 min-w-64 shrink-0 h-screen sticky top-0 bg-orange-100 p-4 border-r border-orange-200 flex flex-col transition-transform duration-300 ".concat(t?"translate-x-0":"-translate-x-full"," md:translate-x-0"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl border border-orange-200 bg-white/80 flex items-center justify-center shadow-sm",children:(0,a.jsx)(o.default,{src:"/spclogopic.png",alt:"State Printing Corporation logo",width:36,height:36,className:"object-contain",priority:!0})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h1",{className:"font-bold text-sm text-orange-900 leading-tight truncate",children:"State Printing Corporation"}),(0,a.jsx)("p",{className:"text-xs text-orange-700/70 truncate",children:"Auth Service Control"})]})]}),(0,a.jsx)("nav",{className:"space-y-1 flex-1",children:p.map(n=>{let e,t=n.icon,o=c===(e=n.path)||c.startsWith("".concat(e,"/"));return(0,a.jsxs)(s(),{href:n.path,onClick:r,className:"hod-sidebar__item ".concat(o?"is-active":""),"aria-current":o?"page":void 0,children:[(0,a.jsx)(t,{size:18}),(0,a.jsx)("span",{className:"truncate",children:n.text})]},n.text)})}),(0,a.jsxs)("div",{className:"pt-4 mt-6 border-t border-orange-200 space-y-2",children:[(0,a.jsxs)(s(),{href:"/profile",onClick:r,className:"hod-sidebar__link",children:[(0,a.jsx)(b.A,{size:18}),(0,a.jsx)("span",{children:"Profile"})]}),(0,a.jsxs)(s(),{href:"/settings",onClick:r,className:"hod-sidebar__link",children:[(0,a.jsx)(g.A,{size:18}),(0,a.jsx)("span",{children:"Settings"})]}),(0,a.jsxs)("button",{onClick:()=>d(!0),className:"hod-sidebar__danger",children:[(0,a.jsx)(h.A,{size:18}),(0,a.jsx)("span",{children:"Logout"})]})]})]}),l&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/40 z-50 grid place-items-center p-4",onClick:()=>d(!1),children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm overflow-hidden border border-orange-200",onClick:n=>n.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 border-b bg-orange-50",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg border border-orange-200 bg-white/80 flex items-center justify-center overflow-hidden",children:(0,a.jsx)(o.default,{src:"/spclogopic.png",alt:"SPC",width:32,height:32,className:"object-contain"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-orange-900",children:"Logout"}),(0,a.jsx)("p",{className:"text-xs text-orange-700/80",children:"Are you sure you want to logout?"})]})]}),(0,a.jsxs)("div",{className:"px-4 py-3 flex justify-end gap-2 bg-white",children:[(0,a.jsx)("button",{className:"px-4 py-2 rounded border border-orange-200 text-orange-700 hover:bg-orange-50",onClick:()=>d(!1),children:"Cancel"}),(0,a.jsx)("button",{className:"px-4 py-2 rounded bg-orange-600 text-white hover:bg-orange-700",onClick:()=>{d(!1),m()},children:"Yes, logout"})]})]})})]})}},60049:(n,e,t)=>{t.d(e,{a:()=>r});var a=t(4259);let r=()=>{let{can:n}=(0,a.A)();return{canRead:n("READ"),canCreate:n("CREATE"),canUpdate:n("UPDATE"),canDelete:n("DELETE"),canPrint:n("PRINT")}}},67097:(n,e,t)=>{t.d(e,{A:()=>s});var a=t(95155),r=t(65229);function s(n){let{isOpen:e,onClose:t,title:s,onSubmit:o,children:i,submitText:c="Submit",cancelText:l="Cancel",size:d="md",loading:p=!1,showFooter:g=!0}=n;return e?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full ".concat({sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-5xl"}[d]," max-h-[80vh] overflow-hidden flex flex-col"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-orange-200 bg-orange-50",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:s}),(0,a.jsx)("button",{onClick:t,className:"p-1 hover:bg-orange-100 rounded transition-colors text-gray-500 hover:text-gray-700",children:(0,a.jsx)(r.A,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:i}),g&&o&&(0,a.jsxs)("div",{className:"flex justify-end space-x-2 p-4 border-t border-orange-200 bg-orange-50",children:[(0,a.jsx)("button",{onClick:t,disabled:p,className:"px-4 py-2 text-sm bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:l}),(0,a.jsxs)("button",{onClick:o,disabled:p,className:"px-4 py-2 text-sm bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:bg-orange-400 disabled:cursor-not-allowed transition-all duration-200 font-medium flex items-center gap-2",children:[p&&(0,a.jsx)("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),c]})]})]})}):null}}}]);