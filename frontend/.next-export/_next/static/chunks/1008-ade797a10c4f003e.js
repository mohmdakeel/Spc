"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1008],{2989:(e,t,s)=>{s.d(t,{Du:()=>f,Hv:()=>d,JY:()=>g,Q3:()=>x,Tz:()=>p,WR:()=>c,W_:()=>m,ih:()=>h,p0:()=>u,vs:()=>b});var l=s(81242);s(93402);let a="/vehicles",r=e=>""===e||null==e?void 0:Number(e)||void 0,n=(e,t)=>{var s,l;return(null==e||null==(l=e.response)||null==(s=l.data)?void 0:s.message)||(null==e?void 0:e.message)||t};function i(e){let t=(0,l.I)(e);return Array.isArray(t)?t:t&&Array.isArray(t.content)?t.content:[]}function o(e,t){if(Array.isArray(t))t.forEach(t=>e.append("files",t));else for(let s=0;s<t.length;s++){let l=t.item(s);l&&e.append("files",l)}}async function c(e){try{let{data:t}=await l.A.get(a,{params:{page:0,size:1e3,...(null==e?void 0:e.trim())?{search:e.trim()}:{}}});return i(t)}catch(e){throw Error(n(e,"Failed to fetch vehicles"))}}async function d(e){try{let{data:t}=await l.A.get("/vehicles/deleted",{params:{page:0,size:1e3,...(null==e?void 0:e.trim())?{search:e.trim()}:{}}});return i(t)}catch(e){throw Error(n(e,"Failed to fetch deleted vehicles"))}}async function u(e){try{let{data:t}=await l.A.get("".concat(a,"/").concat(e));return(0,l.I)(t)}catch(e){throw Error(n(e,"Vehicle not found"))}}async function m(e){try{let t={...e};delete t.id,"registeredKm"in t&&(t.registeredKm=r(t.registeredKm)),"totalKmDriven"in t&&(t.totalKmDriven=r(t.totalKmDriven)),"fuelEfficiency"in t&&(t.fuelEfficiency=r(t.fuelEfficiency));let{data:s}=await l.A.post(a,t);return(0,l.I)(s)}catch(e){throw Error(n(e,"Failed to add vehicle"))}}async function x(e,t){try{let s={...t};"registeredKm"in s&&(s.registeredKm=r(s.registeredKm)),"totalKmDriven"in s&&(s.totalKmDriven=r(s.totalKmDriven)),"fuelEfficiency"in s&&(s.fuelEfficiency=r(s.fuelEfficiency));let{data:n}=await l.A.put("".concat(a,"/").concat(e),s);return(0,l.I)(n)}catch(e){throw Error(n(e,"Failed to update vehicle"))}}async function h(e){try{await l.A.delete("".concat(a,"/").concat(e))}catch(e){throw Error(n(e,"Failed to delete vehicle"))}}async function g(e,t){let s=new FormData,n={...e};delete n.id,"registeredKm"in n&&(n.registeredKm=r(n.registeredKm)),"totalKmDriven"in n&&(n.totalKmDriven=r(n.totalKmDriven)),"fuelEfficiency"in n&&(n.fuelEfficiency=r(n.fuelEfficiency)),s.append("vehicle",JSON.stringify(n)),o(s,t);let{data:i}=await l.A.post("".concat(a,"/with-images"),s,{headers:{"Content-Type":"multipart/form-data"}});return(0,l.I)(i)}async function p(e){let{data:t}=await l.A.get("".concat(a,"/").concat(e,"/images"));return(0,l.I)(t)}async function f(e,t){let s=new FormData;o(s,t);let{data:r}=await l.A.post("".concat(a,"/").concat(e,"/images"),s,{headers:{"Content-Type":"multipart/form-data"}});return(0,l.I)(r)}async function b(e,t){await l.A.delete("".concat(a,"/").concat(e,"/images/").concat(t))}},91008:(e,t,s)=>{s.r(t),s.d(t,{default:()=>U});var l=s(95155),a=s(12115),r=s(20063),n=s(12008),i=s(90368),o=s(27937),c=s(35626),d=s(6191),u=s(309),m=s(54485),x=s(11010),h=s(71360),g=s(65229),p=s(22544),f=s(71847);let b=(0,f.A)("images",[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]]),v=(0,f.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var j=s(2989);function N(e){let{vehicleId:t}=e,[s,r]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),u=(0,a.useCallback)(async()=>{o(!0);try{let e=await (0,j.Tz)(t);r(e.sort((e,t)=>e.sortOrder-t.sortOrder))}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to load images")}finally{o(!1)}},[t]);async function m(e){if(!e.target.files||0===e.target.files.length)return;let l=3-s.length;if(e.target.files.length>l){n.oR.warn("You can add only ".concat(l," more image(s). Max ").concat(3,".")),e.target.value="";return}d(!0);try{let s=await (0,j.Du)(t,e.target.files);r(s.sort((e,t)=>e.sortOrder-t.sortOrder)),n.oR.success("Images uploaded")}catch(e){n.oR.error(e instanceof Error?e.message:"Upload failed")}finally{d(!1),e.target.value=""}}async function x(e){if(confirm("Delete this image?")){d(!0);try{await (0,j.vs)(t,e),await u(),n.oR.success("Deleted")}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to delete")}finally{d(!1)}}}return(0,a.useEffect)(()=>{u()},[u]),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-orange-800 font-semibold",children:[(0,l.jsx)(b,{size:18})," Images (",s.length,"/",3,")"]}),(0,l.jsxs)("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-orange-600 text-white hover:bg-orange-700 cursor-pointer text-sm",children:[(0,l.jsx)(v,{size:16}),c?"Working…":"Upload",(0,l.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:m,className:"hidden",disabled:c||s.length>=3})]})]}),i?(0,l.jsx)("div",{className:"text-sm text-gray-500 py-3",children:"Loading images…"}):0===s.length?(0,l.jsx)("div",{className:"text-sm text-gray-500 py-3",children:"No images yet"}):(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:s.map(e=>(0,l.jsxs)("div",{className:"border border-orange-200 rounded-lg bg-white overflow-hidden",children:[(0,l.jsx)("div",{className:"bg-orange-50 w-full aspect-[4/3] grid place-items-center",children:(0,l.jsx)("img",{src:e.url,alt:"",className:"max-w-full max-h-full object-contain",loading:"lazy"})}),(0,l.jsx)("div",{className:"flex justify-end px-2 py-1.5",children:(0,l.jsxs)("button",{onClick:()=>x(e.id),className:"inline-flex items-center gap-1 text-red-700 hover:text-red-900 text-xs",disabled:c,title:"Delete",children:[(0,l.jsx)(h.A,{size:14})," Delete"]})})]},String(e.id)))}),(0,l.jsx)("p",{className:"text-[11px] text-gray-500 mt-2",children:"JPEG/PNG/WEBP • up to 8MB each."})]})}let y=["AVAILABLE","IN_SERVICE","UNDER_REPAIR","RETIRED"],w=["PETROL","DIESEL"];function E(e){var t,s,r,n,i,o,c,d,u,m,x,h;let f,{vehicle:b,onSubmit:v,onClose:j,enableImages:E}=e,{register:A,handleSubmit:C,watch:k,formState:{errors:T,isSubmitting:D},reset:R}=(0,p.mN)({defaultValues:{vehicleNumber:null!=(t=null==b?void 0:b.vehicleNumber)?t:"",vehicleType:null!=(s=null==b?void 0:b.vehicleType)?s:"",brand:null!=(r=null==b?void 0:b.brand)?r:"",model:null!=(n=null==b?void 0:b.model)?n:"",chassisNumber:null!=(i=null==b?void 0:b.chassisNumber)?i:"",engineNumber:null!=(o=null==b?void 0:b.engineNumber)?o:"",manufactureDate:(null==b?void 0:b.manufactureDate)&&(f=null==b?void 0:b.manufactureDate)?f.slice(0,10):"",registeredKm:null!=(c=null==b?void 0:b.registeredKm)?c:void 0,totalKmDriven:null!=(d=null==b?void 0:b.totalKmDriven)?d:void 0,fuelEfficiency:null!=(u=null==b?void 0:b.fuelEfficiency)?u:void 0,fuelType:null!=(m=null==b?void 0:b.fuelType)?m:"PETROL",presentCondition:null!=(x=null==b?void 0:b.presentCondition)?x:"",status:null!=(h=null==b?void 0:b.status)?h:"AVAILABLE"}}),K=k("fuelType"),[L,S]=(0,a.useState)(null),[P,I]=(0,a.useState)(null),M=async e=>{let t=function(e){var t,s,l,a,r,n,i,o,c;let d=null!=e.registeredKm&&""!==e.registeredKm?Number(e.registeredKm):void 0,u=null!=e.totalKmDriven&&""!==e.totalKmDriven?Number(e.totalKmDriven):void 0;return{vehicleNumber:(null==(t=e.vehicleNumber)?void 0:t.trim())||void 0,vehicleType:(null==(s=e.vehicleType)?void 0:s.trim())||void 0,brand:(null==(l=e.brand)?void 0:l.trim())||void 0,model:(null==(a=e.model)?void 0:a.trim())||void 0,chassisNumber:(null==(r=e.chassisNumber)?void 0:r.trim())||void 0,engineNumber:(null==(n=e.engineNumber)?void 0:n.trim())||void 0,manufactureDate:e.manufactureDate||void 0,registeredKm:d,totalKmDriven:u,fuelEfficiency:null!=e.fuelEfficiency&&""!==e.fuelEfficiency?Number(e.fuelEfficiency):void 0,fuelType:null!=(o=e.fuelType)?o:"PETROL",presentCondition:(null==(i=e.presentCondition)?void 0:i.trim())||void 0,status:null!=(c=e.status)?c:"AVAILABLE"}}(e);if(!t.vehicleNumber)throw Error("Vehicle number is required");if(!t.vehicleType)throw Error("Vehicle type is required");if(null!=t.registeredKm&&null!=t.totalKmDriven&&t.totalKmDriven<t.registeredKm)throw Error("Current odometer cannot be less than registered reading.");await v(t,null!=L?L:void 0),R(),j()};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-2 sm:p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-none sm:rounded-xl shadow-xl w-full h-full sm:h-auto sm:max-h-[90vh] sm:w-[min(100%,48rem)] overflow-hidden flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b bg-orange-50",children:[(0,l.jsx)("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-orange-900",children:b?"Edit Vehicle":"Add New Vehicle"}),(0,l.jsx)("button",{type:"button",onClick:j,className:"p-2 rounded-lg hover:bg-orange-100 text-orange-600 transition-colors","aria-label":"Close",title:"Close",children:(0,l.jsx)(g.A,{size:20})})]}),(0,l.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4 sm:py-5",children:[(0,l.jsxs)("p",{className:"text-xs text-orange-600 mb-3 sm:mb-4 bg-orange-50 p-2.5 sm:p-3 rounded-lg border border-orange-100",children:["Fields marked with ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})," are required."]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-5",children:[(0,l.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:["Vehicle Number ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{className:"w-full border rounded-lg px-3 sm:px-4 py-2.5 text-sm transition-colors ".concat(T.vehicleNumber?"border-red-500 focus:border-red-500":"border-orange-200 focus:border-orange-500"," focus:outline-none focus:ring-2 focus:ring-orange-200"),...A("vehicleNumber",{required:"Vehicle number is required",minLength:{value:3,message:"Minimum 3 characters"}}),placeholder:"Enter vehicle number"}),T.vehicleNumber&&(0,l.jsx)("p",{className:"text-red-500 text-xs mt-1",children:T.vehicleNumber.message})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:["Vehicle Type ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{className:"w-full border rounded-lg px-3 sm:px-4 py-2.5 text-sm transition-colors ".concat(T.vehicleType?"border-red-500 focus:border-red-500":"border-orange-200 focus:border-orange-500"," focus:outline-none focus:ring-2 focus:ring-orange-200"),...A("vehicleType",{required:"Vehicle type is required"}),placeholder:"e.g., Truck, Bus, Car"}),T.vehicleType&&(0,l.jsx)("p",{className:"text-red-500 text-xs mt-1",children:T.vehicleType.message})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:["Fuel Type ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(e=>{let t="PETROL"===e?"Petrol":"Diesel",s=K===e;return(0,l.jsxs)("label",{className:"cursor-pointer select-none",children:[(0,l.jsx)("input",{type:"radio",value:e,className:"sr-only",...A("fuelType",{required:"Fuel type is required"}),checked:s}),(0,l.jsx)("div",{className:"px-3 py-2 rounded-lg text-sm font-semibold transition-colors ".concat(s?"bg-orange-600 text-white border border-orange-600 shadow-sm":"border border-orange-200 text-orange-800 hover:bg-orange-50"),"data-checked":s,children:t})]},e)})}),T.fuelType&&(0,l.jsx)("p",{className:"text-red-500 text-xs mt-1",children:T.fuelType.message})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Brand"}),(0,l.jsx)("input",{className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors",...A("brand"),placeholder:"Enter brand name"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Model"}),(0,l.jsx)("input",{className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors",...A("model"),placeholder:"Enter model name"})]})]}),(0,l.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Chassis Number"}),(0,l.jsx)("input",{className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors",...A("chassisNumber"),placeholder:"Enter chassis number"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Engine Number"}),(0,l.jsx)("input",{className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors",...A("engineNumber"),placeholder:"Enter engine number"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Manufacture Date"}),(0,l.jsx)("input",{type:"date",className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors",...A("manufactureDate")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Status"}),(0,l.jsx)("select",{className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors",...A("status"),children:y.map(e=>(0,l.jsx)("option",{value:e,className:"capitalize",children:e.toLowerCase().replace("_"," ")},e))})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Registered Odometer (km)"}),(0,l.jsx)("input",{type:"number",className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors disabled:bg-gray-50 disabled:text-gray-500",...A("registeredKm"),placeholder:"0",min:"0"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Current Odometer (km)"}),(0,l.jsx)("input",{type:"number",className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors",...A("totalKmDriven"),placeholder:"0",min:"0"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Fuel Efficiency"}),(0,l.jsx)("input",{type:"number",step:"0.01",className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors",...A("fuelEfficiency"),placeholder:"0.0",min:"0"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Condition"}),(0,l.jsx)("input",{className:"w-full border border-orange-200 rounded-lg px-3 sm:px-4 py-2.5 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200 transition-colors",...A("presentCondition"),placeholder:"Describe vehicle condition"})]})]})]}),E&&!b&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Images (max 5)"}),(0,l.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=e.target.files;if(t){if(t.length>5){I("You can upload up to 5 images."),e.target.value="",S(null);return}I(null),S(t)}},className:"block w-full text-sm text-orange-900 file:mr-4 file:py-2.5 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-orange-600 file:text-white hover:file:bg-orange-700"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"JPEG/PNG/WEBP, up to 8MB each."}),P&&(0,l.jsx)("p",{className:"text-xs text-red-600 mt-1",children:P})]}),(null==b?void 0:b.id)&&(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)(N,{vehicleId:b.id})})]}),(0,l.jsxs)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-t bg-orange-50 flex flex-col sm:flex-row gap-2 sm:gap-3 sm:justify-end",children:[(0,l.jsx)("button",{type:"button",onClick:j,className:"w-full sm:w-auto px-5 py-2.5 rounded-lg bg-white border border-orange-300 text-orange-700 hover:bg-orange-50 transition-colors text-sm font-medium",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",onClick:C(M),disabled:D,className:"w-full sm:w-auto px-5 py-2.5 rounded-lg bg-orange-600 text-white hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium flex items-center justify-center gap-2",children:D?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),b?"Updating...":"Adding..."]}):(0,l.jsx)(l.Fragment,{children:b?"Update Vehicle":"Add Vehicle"})})]})]})})}function A(e){let{vehicleId:t}=e,[s,r]=(0,a.useState)([]),[c,d]=(0,a.useState)(0),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=!0;return(async()=>{m(!0);try{let s=await (0,j.Tz)(t);if(!e)return;r([...s].sort((e,t)=>e.sortOrder-t.sortOrder)),d(0)}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to load images")}finally{e&&m(!1)}})(),()=>{e=!1}},[t]);let p=(0,a.useCallback)(()=>d(e=>s.length?(e-1+s.length)%s.length:0),[s.length]),f=(0,a.useCallback)(()=>d(e=>s.length?(e+1)%s.length:0),[s.length]);return((0,a.useEffect)(()=>{if(!x)return;let e=e=>{"Escape"===e.key&&h(!1),"ArrowLeft"===e.key&&p(),"ArrowRight"===e.key&&f()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[x,s.length,f,p]),u)?(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Loading images…"}):0===s.length?(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"No images"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"relative rounded-xl border border-orange-200 bg-neutral-100 p-2 md:p-3",children:[(0,l.jsx)("div",{className:"relative w-full flex items-center justify-center cursor-zoom-in",onClick:()=>h(!0),title:"Click to view full screen",children:(0,l.jsx)("img",{src:s[c].url,alt:"Vehicle image ".concat(c+1),className:"block max-w-full h-auto w-auto max-h-[58vh] md:max-h-[62vh] object-contain",loading:"eager"})}),(0,l.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),p()},className:"absolute left-2 top-1/2 -translate-y-1/2 rounded-full p-1.5 bg-white/90 hover:bg-white shadow","aria-label":"Previous",children:(0,l.jsx)(i.A,{size:18})}),(0,l.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),f()},className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full p-1.5 bg-white/90 hover:bg-white shadow","aria-label":"Next",children:(0,l.jsx)(o.A,{size:18})}),(0,l.jsxs)("div",{className:"absolute right-3 bottom-3 text-[11px] px-2 py-0.5 rounded bg-black/60 text-white",children:[c+1," / ",s.length]})]}),(0,l.jsx)("div",{className:"mt-2 flex items-center gap-2 overflow-x-auto pb-1",children:s.map((e,t)=>(0,l.jsx)("button",{type:"button",onClick:()=>d(t),className:"shrink-0 border rounded-lg overflow-hidden ".concat(t===c?"border-orange-500 ring-2 ring-orange-200":"border-orange-200"),title:"Image ".concat(t+1),children:(0,l.jsx)("img",{src:e.url,alt:"",className:"w-16 h-12 object-cover",loading:"lazy"})},String(e.id)))}),x&&(0,l.jsxs)("div",{className:"fixed inset-0 z-[70] bg-black/90 flex flex-col items-center justify-center p-4",children:[(0,l.jsx)("button",{className:"absolute top-4 right-4 p-2 rounded-full bg-white/90 hover:bg-white",onClick:()=>h(!1),"aria-label":"Close",title:"Close",children:(0,l.jsx)(g.A,{size:20})}),(0,l.jsx)("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/85 hover:bg-white",onClick:p,"aria-label":"Previous",title:"Previous",children:(0,l.jsx)(i.A,{})}),(0,l.jsx)("div",{className:"max-w-[96vw] max-h-[88vh] grid place-items-center",children:(0,l.jsx)("img",{src:s[c].url,alt:"Vehicle image ".concat(c+1),className:"max-w-full max-h-full w-auto h-auto object-contain"})}),(0,l.jsx)("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/85 hover:bg-white",onClick:f,"aria-label":"Next",title:"Next",children:(0,l.jsx)(o.A,{})}),(0,l.jsxs)("div",{className:"mt-3 text-xs text-white/80",children:[c+1," / ",s.length]})]})]})}var C=s(6257),k=s(78827),T=s(51871),D=s(80452),R=s(89910),K=s(7640),L=s(4259);let S="text-xs",P="px-2",I="py-1.5",M="text-xs font-semibold text-orange-800",V="py-2",z=e=>e?new Date(e).toLocaleDateString():"-",F=e=>e?new Date(e).toLocaleString():"-",B=e=>null==e||""===e?"-":String(e),O=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"-",_=function(e){var t;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null!=(t=e.registeredKm)?t:e.totalKmDriven,r=e.totalKmDriven;return s?(0,l.jsxs)("div",{className:"leading-tight text-[11px] text-gray-800",children:[(0,l.jsxs)("div",{className:"font-medium",children:["Reg: ",null!=a?a:"—"]}),(0,l.jsxs)("div",{className:"font-semibold text-orange-900",children:["Current: ",null!=r?r:"—"]})]}):null!=a&&null!=r?a===r?String(r):"".concat(a," / ").concat(r):null!=a?String(a):null!=r?String(r):"—"};function U(){var e,t,s,g,p,f,b,v,N,y,w,U,q,Y,W,H,J,G,Q,X,Z;let $=(0,r.useRouter)(),ee=function(e){let[t,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let t=window.matchMedia(e),l=e=>{var t;return s(null!=(t=e.matches)?t:e.matches)};return s(t.matches),t.addEventListener?t.addEventListener("change",l):t.addListener(l),()=>{t.removeEventListener?t.removeEventListener("change",l):t.removeListener(l)}},[e]),t}("(min-width: 768px)"),{user:et}=(0,L.A)(),es=((null==et?void 0:et.roles)||[]).map(e=>e.toUpperCase()),el=((null==et?void 0:et.permissions)||[]).map(e=>e.toUpperCase()),ea=es.some(e=>["ADMIN","TRANSPORT_ADMIN"].includes(e)),er=ea||el.includes("CREATE"),en=ea||el.includes("UPDATE"),ei=ea||el.includes("DELETE"),eo=ea||el.includes("PRINT")||el.includes("READ"),[ec,ed]=(0,a.useState)([]),[eu,em]=(0,a.useState)([]),[ex,eh]=(0,a.useState)(!1),[eg,ep]=(0,a.useState)(!0),[ef,eb]=(0,a.useState)(""),[ev,ej]=(0,a.useState)(1),[eN,ey]=(0,a.useState)(null),[ew,eE]=(0,a.useState)(!1),[eA,eC]=(0,a.useState)(!1),[ek,eT]=(0,a.useState)(null),[eD,eR]=(0,a.useState)(null),[eK,eL]=(0,a.useState)("ALL"),eS=async()=>{ep(!0);try{let[e,t]=await Promise.all([(0,j.WR)(),(0,j.Hv)()]);ed(Array.isArray(e)?e:[]),em(Array.isArray(t)?t:[])}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to load vehicles"),ed([]),em([])}finally{ep(!1)}};(0,a.useEffect)(()=>{eS()},[]);let eP=ex?eu:ec,eI=(0,a.useMemo)(()=>{let e=Array.isArray(eP)?eP:[],t=ef.trim().toLowerCase(),s="ALL"===eK?e:e.filter(e=>(e.status||"AVAILABLE").toUpperCase()===eK.toUpperCase());return t?s.filter(e=>[e.vehicleNumber,e.vehicleType,e.brand,e.model,e.chassisNumber,e.engineNumber,e.manufactureDate,e.registeredKm,e.totalKmDriven,e.fuelEfficiency,e.fuelType,e.presentCondition,e.status].map(e=>(null!=e?e:"").toString().toLowerCase()).join(" ").includes(t)):s},[eP,ef,eK]);(0,a.useEffect)(()=>{ej(1)},[ex,ef]);let eM=Math.max(1,Math.ceil((null!=(e=null==eI?void 0:eI.length)?e:0)/10)),eV=(ev-1)*10,ez=(null!=eI?eI:[]).slice(eV,eV+10),eF=e=>ej(Math.min(eM,Math.max(1,e))),eB=async(e,t)=>{if(!er)return void n.oR.error("You do not have permission to add vehicles.");try{t&&(Array.isArray(t),t.length>0)?await (0,j.JY)(e,t):await (0,j.W_)(e),n.oR.success("Vehicle added successfully"),eC(!1),await eS()}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to add vehicle")}},eO=async e=>{if(!en)return void n.oR.error("You do not have permission to update vehicles.");try{if(!ek||null==ek.id)throw Error("No vehicle selected for editing");await (0,j.Q3)(ek.id,e),n.oR.success("Vehicle updated successfully"),eC(!1),eT(null),await eS()}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to update vehicle")}},e_=async()=>{if(!ei)return void n.oR.error("You do not have permission to delete vehicles.");if(eD&&null!=eD.id)try{await (0,j.ih)(eD.id),n.oR.success("Vehicle deleted successfully"),eR(null),await eS()}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to delete vehicle")}},eU=async(e,t)=>{try{if(null==e.id)return void n.oR.error("Invalid vehicle id");await (0,j.Q3)(e.id,{status:t||"AVAILABLE"}),n.oR.success("Status updated"),await eS()}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to change status")}},eq=async e=>{if(ey(e),eE(!0),null!=e.id)try{let t=await (0,j.p0)(e.id);t&&ey(t)}catch(e){}},eY=e=>{null!=e.id&&$.push("/Akeel/Transport/History?type=Vehicle&id=".concat(e.id))},eW=e=>{var t;let{v:s,idx:a}=e;return(0,l.jsxs)("div",{className:"rounded-xl border border-orange-200 bg-white shadow-sm p-3 flex flex-col gap-2",onClick:()=>eq(s),role:"button",tabIndex:0,onKeyDown:e=>("Enter"===e.key||" "===e.key)&&eq(s),children:[(0,l.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-[11px] text-gray-500",children:["#",eV+a+1]}),(0,l.jsx)("div",{className:"text-sm font-semibold text-gray-800",children:B(s.vehicleNumber)}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:B(s.vehicleType)}),(0,l.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,l.jsx)("span",{className:"font-medium",children:B(s.brand)}),(0,l.jsxs)("span",{className:"text-gray-500",children:[" / ",B(s.model)]})]})]}),(0,l.jsx)(T.A,{mode:"vehicle",value:null!=(t=s.status)?t:void 0,className:"shrink-0",editable:!ex,onChange:e=>eU(s,e)})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-[11px] text-gray-700",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Chassis:"})," ",B(s.chassisNumber)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Engine:"})," ",B(s.engineNumber)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Mfg:"})," ",z(s.manufactureDate)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Odo:"}),(0,l.jsx)("div",{className:"ml-1 inline-block align-middle",children:_(s,!0)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Fuel:"})," ",(0,l.jsx)("span",{className:"font-medium text-orange-900",children:O(s.fuelType)}),(0,l.jsxs)("span",{className:"text-gray-600",children:[" • ",B(s.fuelEfficiency)," km/l"]})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Cond.:"})," ",B(s.presentCondition)]})]}),!ex&&(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-1",children:[(0,l.jsx)("button",{className:"px-2 py-1 rounded text-orange-600 hover:bg-orange-50 text-[11px] font-medium",onClick:e=>{e.stopPropagation(),(0,C.kv)(s)},children:"Print"}),(0,l.jsx)("button",{className:"px-2 py-1 rounded text-orange-600 hover:bg-orange-50 text-[11px] font-medium",onClick:e=>{e.stopPropagation(),eY(s)},children:"History"}),(0,l.jsx)("button",{className:"px-2 py-1 rounded text-green-700 hover:bg-green-50 text-[11px] font-medium",onClick:e=>{e.stopPropagation(),eT(s),eC("edit")},children:"Edit"}),(0,l.jsx)("button",{className:"px-2 py-1 rounded text-red-600 hover:bg-red-50 text-[11px] font-medium",onClick:e=>{e.stopPropagation(),eR(s)},children:"Delete"})]})]})};return(0,l.jsxs)("div",{className:"w-full min-h-screen p-3 sm:p-4 bg-orange-50",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4",children:[(0,l.jsxs)("div",{className:"flex items-center mb-3 sm:mb-4",children:[(0,l.jsx)("button",{onClick:()=>$.back(),className:"flex items-center gap-2 text-orange-600 hover:text-orange-800 p-2 rounded-lg hover:bg-orange-50 mr-3 sm:mr-4",children:(0,l.jsx)(c.A,{size:20})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Vehicle Management"}),(0,l.jsxs)("p",{className:"text-xs sm:text-sm text-orange-600",children:[null!=(t=null==eI?void 0:eI.length)?t:0," ",ex?"deleted":"active"," vehicles"]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4 mb-3 sm:mb-4",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,l.jsxs)("div",{className:"flex rounded-lg overflow-hidden border border-orange-300 shadow-sm",children:[(0,l.jsxs)("button",{className:"px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium ".concat(ex?"bg-white text-orange-600 hover:bg-orange-50":"bg-orange-600 text-white"),onClick:()=>eh(!1),children:["Active",(0,l.jsx)("span",{className:"ml-2 text-[10px] sm:text-xs bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full",children:ec.length})]}),(0,l.jsxs)("button",{className:"px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium ".concat(ex?"bg-red-600 text-white":"bg-white text-red-600 hover:bg-red-50"),onClick:()=>eh(!0),children:["Deleted",(0,l.jsx)("span",{className:"ml-2 text-[10px] sm:text-xs bg-red-100 text-red-800 px-2 py-0.5 rounded-full",children:eu.length})]})]}),(0,l.jsx)("div",{className:"flex-1"}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[!ex&&(0,l.jsx)("div",{className:"flex items-center gap-1 bg-orange-50 border border-orange-200 px-2 py-1.5 rounded-lg text-xs sm:text-sm text-orange-800 shadow-sm",children:["ALL","AVAILABLE","IN_SERVICE","UNDER_REPAIR","RETIRED"].map(e=>(0,l.jsx)("button",{onClick:()=>eL(e),className:"px-2 py-1 rounded transition-colors ".concat(eK===e?"bg-orange-600 text-white":"hover:bg-orange-100"),children:e.replace("_"," ")},e))}),er&&!ex&&(0,l.jsxs)("button",{className:"flex items-center gap-2 bg-orange-600 text-white px-3 py-2 rounded-lg hover:bg-orange-700 shadow-sm transition-colors text-xs sm:text-sm",onClick:()=>{eT(null),eC("add")},children:[(0,l.jsx)(d.A,{size:16}),(0,l.jsx)("span",{children:"Add Vehicle"})]}),eo&&(0,l.jsxs)("button",{className:"flex items-center gap-2 bg-orange-100 text-orange-700 border border-orange-200 px-3 py-2 rounded-lg hover:bg-orange-200 shadow-sm transition-colors text-xs sm:text-sm",onClick:()=>(0,C.Y9)(eI,ex),children:[(0,l.jsx)(u.A,{size:16}),(0,l.jsx)("span",{children:"Print"})]})]})]}),(0,l.jsx)(k.A,{value:ef,onChange:eb,placeholder:"Search any field (Number, Type, Brand, Model…)"})]}),eg?(0,l.jsxs)("div",{className:"text-center py-16 text-gray-500",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mb-3"}),(0,l.jsx)("p",{children:"Loading vehicles..."})]}):ee?(0,l.jsx)("div",{className:"overflow-x-auto rounded-lg border border-orange-100 mt-4 shadow-sm",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsxs)("colgroup",{children:[(0,l.jsx)("col",{className:"w-[4%]"}),(0,l.jsx)("col",{className:"w-[12%]"}),(0,l.jsx)("col",{className:"w-[8%]"}),(0,l.jsx)("col",{className:"w-[16%]"}),(0,l.jsx)("col",{className:"w-[12%]"}),(0,l.jsx)("col",{className:"w-[12%]"}),(0,l.jsx)("col",{className:"w-[8%]"}),(0,l.jsx)("col",{className:"w-[9%]"}),(0,l.jsx)("col",{className:"w-[5%]"}),(0,l.jsx)("col",{className:"w-[10%]"}),(0,l.jsx)("col",{className:"w-[8%]"}),(0,l.jsx)("col",{className:ex?"w-0 hidden":"w-[6%]"})]}),(0,l.jsx)("thead",{className:"bg-orange-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)(K.Th,{className:"text-center ".concat(V," ").concat(M),children:"No"}),(0,l.jsx)(K.Th,{className:"".concat(V," ").concat(M),children:"Number"}),(0,l.jsx)(K.Th,{className:"".concat(V," ").concat(M),children:"Type"}),(0,l.jsx)(K.Th,{className:"".concat(V," ").concat(M),children:"Brand / Model"}),(0,l.jsx)(K.Th,{className:"".concat(V," ").concat(M),children:"Chassis"}),(0,l.jsx)(K.Th,{className:"".concat(V," ").concat(M),children:"Engine"}),(0,l.jsx)(K.Th,{className:"".concat(V," ").concat(M),children:"Mfg Date"}),(0,l.jsx)(K.Th,{className:"text-center ".concat(V," ").concat(M),children:"Odo (reg / current)"}),(0,l.jsx)(K.Th,{className:"text-center ".concat(V," ").concat(M),children:"Fuel (type / eff.)"}),(0,l.jsx)(K.Th,{className:"".concat(V," ").concat(M),children:"Condition"}),(0,l.jsx)(K.Th,{className:"".concat(V," ").concat(M),children:"Status"}),!ex&&(en||ei||eo)&&(0,l.jsx)(K.Th,{className:"text-center ".concat(V," ").concat(M),children:"Actions"})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-orange-100",children:[ez.map((e,t)=>{var s,a;return(0,l.jsxs)("tr",{className:"hover:bg-orange-50 transition-colors cursor-pointer",onClick:()=>eq(e),children:[(0,l.jsx)(K.Td,{className:"text-center ".concat(P," ").concat(I," ").concat(S),children:eV+t+1}),(0,l.jsx)(K.Td,{className:"".concat(P," ").concat(I," ").concat(S," font-medium truncate"),title:B(e.vehicleNumber),children:B(e.vehicleNumber)}),(0,l.jsx)(K.Td,{className:"".concat(P," ").concat(I," ").concat(S," truncate"),title:B(e.vehicleType),children:B(e.vehicleType)}),(0,l.jsxs)(K.Td,{className:"".concat(P," ").concat(I," ").concat(S," truncate"),title:"".concat(B(e.brand)," / ").concat(B(e.model)),children:[(0,l.jsx)("span",{className:"font-medium",children:B(e.brand)}),(0,l.jsxs)("span",{className:"text-gray-500",children:[" / ",B(e.model)]})]}),(0,l.jsx)(K.Td,{className:"".concat(P," ").concat(I," ").concat(S," truncate"),title:B(e.chassisNumber),children:B(e.chassisNumber)}),(0,l.jsx)(K.Td,{className:"".concat(P," ").concat(I," ").concat(S," truncate"),title:B(e.engineNumber),children:B(e.engineNumber)}),(0,l.jsx)(K.Td,{className:"".concat(P," ").concat(I," ").concat(S),children:z(e.manufactureDate)}),(0,l.jsx)(K.Td,{className:"text-center ".concat(P," ").concat(I," ").concat(S),children:_(e,!0)}),(0,l.jsxs)(K.Td,{className:"text-center ".concat(P," ").concat(I," ").concat(S),children:[(0,l.jsx)("div",{className:"font-semibold text-orange-900",children:O(e.fuelType)}),(0,l.jsxs)("div",{className:"text-[11px] text-gray-600",children:[B(e.fuelEfficiency)," km/l"]})]}),(0,l.jsx)(K.Td,{className:"".concat(P," ").concat(I," ").concat(S," truncate"),title:B(e.presentCondition),children:B(e.presentCondition)}),(0,l.jsx)(K.Td,{className:"".concat(P," ").concat(I),onClick:e=>e.stopPropagation(),children:(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)(T.A,{mode:"vehicle",value:null!=(s=e.status)?s:void 0,editable:!ex&&en,onChange:t=>eU(e,t)})})}),!ex&&(en||ei||eo)&&(0,l.jsx)(K.Td,{className:"text-center ".concat(P," ").concat(I),onClick:e=>e.stopPropagation(),children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[eo&&(0,l.jsx)("button",{className:"w-6 h-6 grid place-items-center rounded text-orange-600 hover:bg-orange-100 transition-colors",title:"Print",onClick:t=>{t.stopPropagation(),(0,C.kv)(e)},children:(0,l.jsx)(u.A,{size:12})}),(0,l.jsx)("button",{className:"w-6 h-6 grid place-items-center rounded text-orange-600 hover:bg-orange-100 transition-colors",title:"History",onClick:t=>{t.stopPropagation(),eY(e)},children:(0,l.jsx)(m.A,{size:12})}),en&&(0,l.jsx)("button",{className:"w-6 h-6 grid place-items-center rounded text-green-600 hover:bg-green-100 transition-colors",title:"Edit",onClick:t=>{t.stopPropagation(),eT(e),eC("edit")},children:(0,l.jsx)(x.A,{size:12})}),ei&&(0,l.jsx)("button",{className:"w-6 h-6 grid place-items-center rounded text-red-600 hover:bg-red-100 transition-colors",title:"Delete",onClick:t=>{t.stopPropagation(),eR(e)},children:(0,l.jsx)(h.A,{size:12})})]})})]},null!=(a=e.id)?a:"".concat(e.vehicleNumber,"-").concat(t))}),(null!=(s=null==ez?void 0:ez.length)?s:0)===0&&(0,l.jsx)("tr",{children:(0,l.jsxs)(K.Td,{colSpan:ex?11:12,className:"text-center py-6 text-gray-500 text-xs",children:["No ",ex?"deleted":"active"," vehicles found."]})})]})]})}):(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[ez.map((e,t)=>{var s;return(0,l.jsx)(eW,{v:e,idx:t},null!=(s=e.id)?s:"".concat(e.vehicleNumber,"-").concat(t))}),(null!=(g=null==ez?void 0:ez.length)?g:0)===0&&(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500 text-xs col-span-full",children:["No ",ex?"deleted":"active"," vehicles found."]})]}),(0,l.jsx)(()=>{let e=Math.max(1,ev-2),t=Array.from({length:Math.min(eM,e+4)-e+1},(t,s)=>e+s);return(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 px-3 py-2 bg-orange-50 rounded-lg border border-orange-100 mt-3",children:[(0,l.jsxs)("span",{className:"text-xs text-orange-800",children:["Showing ",eI.length?eV+1:0,"–",Math.min(eV+10,eI.length)," of ",eI.length]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>eF(ev-1),disabled:1===ev,className:"p-1 rounded ".concat(1===ev?"text-gray-400 cursor-not-allowed":"text-orange-600 hover:bg-orange-100"),"aria-label":"Previous page",children:(0,l.jsx)(i.A,{size:14})}),t.map(e=>(0,l.jsx)("button",{onClick:()=>eF(e),className:"px-2 py-1 rounded text-xs ".concat(ev===e?"bg-orange-600 text-white":"text-orange-600 hover:bg-orange-100"),children:e},e)),(0,l.jsx)("button",{onClick:()=>eF(ev+1),disabled:ev===eM,className:"p-1 rounded ".concat(ev===eM?"text-gray-400 cursor-not-allowed":"text-orange-600 hover:bg-orange-100"),"aria-label":"Next page",children:(0,l.jsx)(o.A,{size:14})})]})]})},{})]}),ew&&eN&&(0,l.jsx)(D.A,{title:"Vehicle Details",status:null!=(p=eN.status)?p:void 0,onClose:()=>eE(!1),top:(0,l.jsx)(A,{vehicleId:eN.id}),fields:[{label:"Vehicle Number",value:null!=(f=eN.vehicleNumber)?f:"-"},{label:"Type",value:null!=(b=eN.vehicleType)?b:"-"},{label:"Brand",value:null!=(v=eN.brand)?v:"-"},{label:"Model",value:null!=(N=eN.model)?N:"-"},{label:"Chassis Number",value:null!=(y=eN.chassisNumber)?y:"-"},{label:"Engine Number",value:null!=(w=eN.engineNumber)?w:"-"},{label:"Manufacture Date",value:z(null!=(U=eN.manufactureDate)?U:void 0)},{label:"Registered KM",value:null!=(Y=null!=(q=eN.registeredKm)?q:eN.totalKmDriven)?Y:"-"},{label:"Current KM",value:null!=(W=eN.totalKmDriven)?W:"-"},{label:"Fuel Type",value:O(eN.fuelType)},{label:"Fuel Efficiency",value:null!=(H=eN.fuelEfficiency)?H:"-"},{label:"Condition",value:null!=(J=eN.presentCondition)?J:"-"},{label:"Status",value:null!=(G=eN.status)?G:"-"},{label:"Created By",value:null!=(Q=eN.createdBy)?Q:"-"},{label:"Created At",value:F(eN.createdAt)},{label:"Last Modified By",value:null!=(X=eN.updatedBy)?X:"-"},{label:"Last Modified At",value:F(eN.updatedAt)},{label:"Deleted By",value:null!=(Z=eN.deletedBy)?Z:"-"},{label:"Deleted At",value:F(eN.deletedAt)}]}),eA&&(0,l.jsx)(E,{enableImages:"add"===eA,vehicle:"edit"===eA&&null!=ek?ek:void 0,onSubmit:"edit"===eA?eO:eB,onClose:()=>eC(!1)}),eD&&(0,l.jsx)(R.A,{title:"Delete Vehicle",message:"Are you sure you want to delete ".concat(eD.vehicleNumber,"?"),onConfirm:e_,onClose:()=>eR(null)})]})}}}]);