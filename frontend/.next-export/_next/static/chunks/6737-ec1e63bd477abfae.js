"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6737],{6257:(e,t,n)=>{n.d(t,{aB:()=>m,om:()=>b,du:()=>g,kv:()=>p,Y9:()=>u});var a=n(12008);function l(e){return null==e||""===e?"-":String(e)}function d(e){if(!e)return"-";try{return new Date(e).toLocaleDateString()}catch(t){return String(e)}}let c=e=>{var t;let n=null!=(t=e.registeredKm)?t:e.totalKmDriven,a=e.totalKmDriven;return null!=n&&null!=a?n===a?String(a):"".concat(n," / ").concat(a):null!=n?String(n):null!=a?String(a):"—"},i=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"—";function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,n=window.open("","","width=".concat(e,",height=").concat(t));return n||(a.oR.error("Failed to open print window"),null)}function s(e,t){e.write(t),e.close(),setTimeout(()=>{try{var t,n,l,d;null==(n=e.defaultView)||null==(t=n.print)||t.call(n),null==(d=e.defaultView)||null==(l=d.close)||l.call(d)}catch(e){a.oR.error("Failed to print document")}},120)}let r="\n  :root { --brand:#ea580c; --ink:#111827; --muted:#6b7280; --line:#e5e7eb; }\n  * { box-sizing: border-box; }\n  body { font-family: Arial, sans-serif; color: var(--ink); padding: 20px; }\n  h2 { color: var(--brand); border-bottom: 2px solid var(--brand); padding-bottom: 6px; margin: 0 0 12px; }\n  .grid { display: grid; grid-template-columns: 220px 1fr; gap: 6px 12px; align-items: start; }\n  .label { color: var(--muted); font-weight: 700; }\n  .val { word-break: break-word; }\n  .section { margin-top: 14px; padding-top: 10px; border-top: 1px dashed var(--line); }\n  .small { color: var(--muted); font-size: 12px; }\n",v="\n  :root { --brand:#ea580c; --brand2:#ffedd5; --ink:#111827; --muted:#6b7280; --line:#e5e7eb; }\n  * { box-sizing: border-box; }\n  body { font-family: Arial, sans-serif; color: var(--ink); padding: 20px; }\n  h2 { color: var(--brand); text-align: center; margin: 0 0 4px; }\n  .meta { text-align: center; color: var(--muted); margin-bottom: 8px; font-size: 12px; }\n  table { width: 100%; border-collapse: collapse; font-size: 12px; table-layout: fixed; }\n  thead th {\n    background: var(--brand2);\n    color: #9a3412;\n    position: sticky; top: 0;\n    z-index: 1;\n  }\n  th, td { border-bottom: 1px solid var(--line); padding: 6px 8px; text-align: left; }\n  .num { text-align: right; }\n  tbody tr:nth-child(odd) td { background: #fafafa; }\n  .wrap { word-break: break-word; }\n";function h(e){let t=[];return((e.createdBy||e.createdAt)&&(t.push('<div class="label">Created By</div><div class="val">'.concat(l(e.createdBy),"</div>")),t.push('<div class="label">Created At</div><div class="val">'.concat(d(e.createdAt),"</div>"))),(e.updatedBy||e.updatedAt)&&(t.push('<div class="label">Updated By</div><div class="val">'.concat(l(e.updatedBy),"</div>")),t.push('<div class="label">Updated At</div><div class="val">'.concat(d(e.updatedAt),"</div>"))),(e.deletedBy||e.deletedAt)&&(t.push('<div class="label">Deleted By</div><div class="val">'.concat(l(e.deletedBy),"</div>")),t.push('<div class="label">Deleted At</div><div class="val">'.concat(d(e.deletedAt),"</div>"))),t.length)?'<div class="section"><div class="grid">'.concat(t.join(""),"</div></div>"):""}function p(e){var t;let n=o(800,600);if(!n)return;let a="<!doctype html>\n  <html><head><title>".concat(null!=(t=e.vehicleNumber)?t:"Vehicle","</title>\n  <style>").concat(r,"</style></head>\n  <body>\n    <h2>Vehicle ").concat(l(e.vehicleNumber),'</h2>\n\n    <div class="grid">\n      <div class="label">Type</div><div class="val">').concat(l(e.vehicleType),'</div>\n      <div class="label">Brand</div><div class="val">').concat(l(e.brand),'</div>\n      <div class="label">Model</div><div class="val">').concat(l(e.model),'</div>\n      <div class="label">Chassis</div><div class="val">').concat(l(e.chassisNumber),'</div>\n      <div class="label">Engine</div><div class="val">').concat(l(e.engineNumber),'</div>\n      <div class="label">Manufacture Date</div><div class="val">').concat(d(e.manufactureDate),'</div>\n      <div class="label">Odometer (reg / current)</div><div class="val">').concat(c(e),'</div>\n      <div class="label">Fuel Type</div><div class="val">').concat(i(e.fuelType),'</div>\n      <div class="label">Fuel Efficiency</div><div class="val">').concat(l(e.fuelEfficiency),'</div>\n      <div class="label">Condition</div><div class="val">').concat(l(e.presentCondition),'</div>\n      <div class="label">Status</div><div class="val">').concat(l(e.status),"</div>\n    </div>\n\n    ").concat(h(e),'\n\n    <div class="section small">Printed: ').concat(new Date().toLocaleString(),"</div>\n  </body></html>");s(n.document,a)}function u(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=o(1100,700);if(!n)return;let a=(e||[]).map((e,t)=>'\n    <tr>\n      <td class="num">'.concat(t+1,'</td>\n      <td class="wrap">').concat(l(e.vehicleNumber),'</td>\n      <td class="wrap">').concat(l(e.vehicleType),'</td>\n      <td class="wrap">').concat(l(e.brand),'</td>\n      <td class="wrap">').concat(l(e.model),'</td>\n      <td class="wrap">').concat(l(e.chassisNumber),'</td>\n      <td class="wrap">').concat(l(e.engineNumber),"</td>\n      <td>").concat(d(e.manufactureDate),'</td>\n      <td class="num">').concat(c(e),'</td>\n      <td class="wrap">').concat(i(e.fuelType)," / ").concat(l(e.fuelEfficiency),' km/l</td>\n      <td class="wrap">').concat(l(e.presentCondition),"</td>\n      <td>").concat(l(e.status),"</td>\n    </tr>\n  ")).join(""),r="<!doctype html>\n  <html><head><title>Vehicles</title>\n  <style>".concat(v,"</style></head>\n  <body>\n    <h2>").concat(t?"Deleted":"Active"," Vehicles (").concat(e.length,')</h2>\n    <div class="meta">Printed on ').concat(new Date().toLocaleString(),'</div>\n\n    <table>\n      <colgroup>\n        <col style="width:48px" />\n        <col style="width:120px" />\n        <col style="width:90px" />\n        <col style="width:110px" />\n        <col style="width:110px" />\n        <col style="width:150px" />\n        <col style="width:150px" />\n        <col style="width:100px" />\n        <col style="width:130px" />\n        <col style="width:85px" />\n        <col style="width:150px" />\n        <col style="width:95px" />\n      </colgroup>\n\n      <thead>\n        <tr>\n          <th class="num">#</th>\n          <th>Number</th>\n          <th>Type</th>\n          <th>Brand</th>\n          <th>Model</th>\n          <th>Chassis</th>\n          <th>Engine</th>\n          <th>Mfg Date</th>\n          <th class="num">Odo (reg / current)</th>\n          <th>Fuel</th>\n          <th>Condition</th>\n          <th>Status</th>\n        </tr>\n      </thead>\n      <tbody>').concat(a,"</tbody>\n    </table>\n  </body></html>");s(n.document,r)}function m(e){var t;let n=o(800,600);if(!n)return;let a="<!doctype html>\n  <html><head><title>".concat(null!=(t=e.name)?t:"Driver","</title>\n  <style>").concat(r,"</style></head>\n  <body>\n    <h2>Driver ").concat(l(e.name),'</h2>\n    <div class="grid">\n      <div class="label">Employee ID</div><div class="val">').concat(l(e.employeeId),'</div>\n      <div class="label">Phone</div><div class="val">').concat(l(e.phone),'</div>\n      <div class="label">Email</div><div class="val">').concat(l(e.email),'</div>\n      <div class="label">License #</div><div class="val">').concat(l(e.licenseNumber),'</div>\n      <div class="label">License Expiry</div><div class="val">').concat(d(e.licenseExpiryDate),'</div>\n      <div class="label">Experience</div><div class="val">').concat(l(e.drivingExperience),' years</div>\n      <div class="label">Status</div><div class="val">').concat(l(e.status),"</div>\n    </div>\n\n    ").concat(h(e),'\n\n    <div class="section small">Printed: ').concat(new Date().toLocaleString(),"</div>\n  </body></html>");s(n.document,a)}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=o(1e3,700);if(!n)return;let a=(e||[]).map((e,t)=>'\n    <tr>\n      <td class="num">'.concat(t+1,"</td>\n      <td>").concat(l(e.employeeId),'</td>\n      <td class="wrap">').concat(l(e.name),"</td>\n      <td>").concat(l(e.phone),'</td>\n      <td class="wrap">').concat(l(e.email),"</td>\n      <td>").concat(l(e.licenseNumber),"</td>\n      <td>").concat(d(e.licenseExpiryDate),'</td>\n      <td class="num">').concat(l(e.drivingExperience),"</td>\n      <td>").concat(l(e.status),"</td>\n    </tr>\n  ")).join(""),c="<!doctype html>\n  <html><head><title>Drivers</title>\n  <style>".concat(v,"</style></head>\n  <body>\n    <h2>").concat(t?"Deleted":"Active"," Drivers (").concat(e.length,')</h2>\n    <div class="meta">Printed on ').concat(new Date().toLocaleString(),'</div>\n    <table>\n      <thead>\n        <tr>\n          <th class="num">#</th><th>Employee ID</th><th>Name</th><th>Phone</th><th>Email</th>\n          <th>License</th><th>Expiry</th><th class="num">Experience</th><th>Status</th>\n        </tr>\n      </thead>\n      <tbody>').concat(a,"</tbody>\n    </table>\n  </body></html>");s(n.document,c)}function g(e){let t=window.open("","","width=800,height=600");if(!t)return;let n=e=>null==e||""===e?"-":String(e),a=e=>e?new Date(e).toLocaleString():"-",l=e.returnDate&&e.returnDate!==e.dateOfTravel?"".concat(n(e.dateOfTravel)," → ").concat(n(e.returnDate)):n(e.dateOfTravel),d="<!doctype html><html><head><title>".concat(e.requestCode,"</title><style>").concat("\n    :root { --brand:#ea580c; --ink:#111827; --muted:#6b7280; --line:#e5e7eb; }\n    * { box-sizing:border-box } body { font-family: Arial, sans-serif; color:var(--ink); padding:20px }\n    h2 { color:var(--brand); margin:0 0 8px } .sec{margin-top:10px;padding-top:10px;border-top:1px solid var(--line)}\n    .grid{display:grid;grid-template-columns:200px 1fr; gap:6px 12px}\n    .label{color:var(--muted);font-weight:700} .val{word-break:break-word}\n  ","</style></head><body>\n    <h2>Transport Slip • ").concat(e.requestCode,'</h2>\n    <div class="grid">\n      <div class="label">Applicant</div><div class="val">').concat(n(e.applicantName)," (").concat(n(e.employeeId),')</div>\n      <div class="label">Department</div><div class="val">').concat(n(e.department),'</div>\n      <div class="label">Travel</div><div class="val">').concat(l," • ").concat(n(e.timeFrom)," – ").concat(n(e.timeTo),'</div>\n      <div class="label">Route</div><div class="val">').concat(n(e.fromLocation)," → ").concat(n(e.toLocation),'</div>\n      <div class="label">Trip Description</div><div class="val">').concat(n(e.officialDescription),'</div>\n      <div class="label">Goods</div><div class="val">').concat(n(e.goods),'</div>\n    </div>\n    <div class="sec grid">\n      <div class="label">Vehicle</div><div class="val">').concat(n(e.assignedVehicleNumber),'</div>\n      <div class="label">Driver</div><div class="val">').concat(n(e.assignedDriverName)," ").concat(e.assignedDriverPhone?"• ".concat(e.assignedDriverPhone):"",'</div>\n      <div class="label">Pickup</div><div class="val">').concat(a(e.scheduledPickupAt),'</div>\n      <div class="label">Return</div><div class="val">').concat(a(e.scheduledReturnAt),'</div>\n    </div>\n    <div class="sec grid">\n      <div class="label">Gate Exit</div><div class="val">').concat(a(e.gateExitAt)," • Odometer: ").concat(n(e.exitOdometer),'</div>\n      <div class="label">Gate Entry</div><div class="val">').concat(a(e.gateEntryAt)," • Odometer: ").concat(n(e.entryOdometer),'</div>\n    </div>\n    <div class="sec" style="font-size:12px;color:var(--muted)">Printed on ').concat(new Date().toLocaleString(),"</div>\n  </body></html>");t.document.write(d),t.document.close(),setTimeout(()=>{try{t.print(),t.close()}catch(e){}},120)}},7640:(e,t,n)=>{n.d(t,{Td:()=>d,Th:()=>l});var a=n(95155);function l(e){let{children:t,className:n="",sortable:l,sortDirection:d,onClick:c,...i}=e;return(0,a.jsx)("th",{...i,"aria-sort":"asc"===d?"ascending":"desc"===d?"descending":"none",onClick:l?c:void 0,onKeyDown:l?e=>{l&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),null==c||c())}:void 0,tabIndex:l?0:void 0,className:["px-2 py-2 md:px-3 md:py-2.5 text-left font-semibold text-orange-900 whitespace-normal align-middle leading-snug bg-orange-100 border-b-2 border-orange-200",l?"cursor-pointer hover:bg-orange-200 transition-colors":"",d?"bg-orange-200":"",n].join(" "),children:(0,a.jsxs)("div",{className:"flex items-center gap-2 select-none",children:[t,l&&(0,a.jsx)("span",{"aria-hidden":"true",className:"text-orange-600",children:"asc"===d?"↑":"desc"===d?"↓":"↕"})]})})}function d(e){let{children:t,className:n="",highlight:l,...d}=e;return(0,a.jsx)("td",{...d,className:["px-2 py-2 md:px-3 md:py-2.5 align-top border-b border-orange-100 transition-colors duration-150 whitespace-normal break-words leading-snug text-orange-800",l?"bg-orange-50 font-medium":"",n].join(" "),children:t})}n(12115)},65229:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},81242:(e,t,n)=>{n.d(t,{A:()=>o,I:()=>s});var a=n(95125),l=n(95704);let d=(l.env.NEXT_PUBLIC_TRANSPORT_BASE||"").replace(/\/$/,""),c=Math.min(Number(l.env.NEXT_PUBLIC_TRANSPORT_TIMEOUT)||1e4,15e3),i=a.A.create({baseURL:d?"".concat(d,"/api"):"/tapi",withCredentials:!0,headers:{"Content-Type":"application/json"},timeout:c}),o=i;function s(e){if(e&&"object"==typeof e&&"ok"in e){if(!1===e.ok)throw Error(e.message||"Request failed");return e.data}return e}i.interceptors.request.use(e=>{{var t,n;let a=localStorage.getItem("username")||localStorage.getItem("actor")||localStorage.getItem("employeeId")||void 0;a&&(e.headers=null!=(t=e.headers)?t:{},e.headers["X-Actor"]=a);let l=localStorage.getItem("role")||void 0;l&&(e.headers=null!=(n=e.headers)?n:{},e.headers["X-Role"]=l)}return e}),i.interceptors.response.use(e=>e,e=>{let t=null==e?void 0:e.code,n=((null==e?void 0:e.message)||"").toLowerCase();if("ECONNABORTED"===t||n.includes("timeout")){var a,l,d,c;return console.warn("Transport API timeout – returning empty response"),Promise.resolve({status:null!=(d=null==(a=e.response)?void 0:a.status)?d:0,statusText:"Request Timeout",data:null,headers:null!=(c=null==(l=e.response)?void 0:l.headers)?c:{},config:e.config,request:e.request})}return Promise.reject(e)})},86651:(e,t,n)=>{n.d(t,{A:()=>a});let a=(0,n(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}}]);